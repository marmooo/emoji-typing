"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t={exports:{}},e=t.exports=function(){var t,s={9306:function(e,t,n){var s=n(4901),o=n(6823),i=TypeError;e.exports=function(e){if(s(e))return e;throw new i(o(e)+" is not a function")}},5548:function(e,t,n){var s=n(3517),o=n(6823),i=TypeError;e.exports=function(e){if(s(e))return e;throw new i(o(e)+" is not a constructor")}},3506:function(e,t,n){var s=n(3925),o=String,i=TypeError;e.exports=function(e){if(s(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},6469:function(e,t,n){var i=n(8227),a=n(2360),r=n(4913).f,s=i("unscopables"),o=Array.prototype;0[0]===o[s]&&r(o,s,{configurable:!0,value:a(null)}),e.exports=function(e){o[s][e]=!0}},7829:function(e,t,n){var s=n(8183).charAt;e.exports=function(e,t,n){return t+(n?s(e,t).length:1)}},8551:function(e,t,n){var s=n(34),o=String,i=TypeError;e.exports=function(e){if(s(e))return e;throw new i(o(e)+" is not an object")}},235:function(e,t,n){var s=n(9213).forEach,o=n(4598)("forEach");e.exports=o?[].forEach:function(e){return s(this,e,arguments.length>1?arguments[1]:0[0])}},7916:function(e,t,n){var i=n(6080),a=n(9565),r=n(8981),c=n(6319),l=n(4209),d=n(3517),u=n(6198),s=n(4659),h=n(81),m=n(851),o=Array;e.exports=function(e){var t,n,g,v,b,y,_,O,p=r(e),x=d(this),w=arguments.length,f=w>1?arguments[1]:0[0],j=0[0]!==f;if(j&&(f=i(f,w>2?arguments[2]:0[0])),b=m(p),t=0,!b||this===o&&l(b))for(g=u(p),n=x?new this(g):o(g);g>t;t++)v=j?f(p[t],t):p[t],s(n,t,v);else for(n=x?new this:[],O=(_=h(p,b)).next;!(y=a(O,_)).done;t++)v=j?c(_,f,[y.value,t],!0):y.value,s(n,t,v);return n.length=t,n}},9617:function(e,t,n){var o=n(5397),i=n(5610),a=n(6198),s=function(e){return function(t,n,s){var r,d,c=o(t),l=a(c);if(0===l)return!e&&-1;if(r=i(s,l),e&&n!=n){for(;l>r;)if((d=c[r++])!=d)return!0}else for(;l>r;r++)if((e||r in c)&&c[r]===n)return e||r||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9213:function(e,t,n){var i=n(6080),a=n(9504),r=n(7055),c=n(8981),l=n(6198),d=n(1469),o=a([].push),s=function(e){var t=1===e,a=2===e,u=3===e,n=4===e,s=6===e,h=7===e,m=5===e||s;return function(f,p,g,v){for(var j,_,O=c(f),w=r(O),x=l(w),E=i(p,g),b=0,C=v||d,y=t?C(f,x):a||h?C(f,0):0[0];x>b;b++)if((m||b in w)&&(_=E(j=w[b],b,O),e))if(t)y[b]=_;else if(_)switch(e){case 3:return!0;case 5:return j;case 6:return b;case 2:o(y,j)}else switch(e){case 4:return!1;case 7:o(y,j)}return s?-1:u||n?n:y}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},597:function(e,t,n){var s=n(9039),o=n(8227),i=n(7388),a=o("species");e.exports=function(e){return i>=51||!s(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},4598:function(e,t,n){var s=n(9039);e.exports=function(e,t){var n=[][e];return!!n&&s(function(){n.call(null,t||function(){return 1},1)})}},926:function(e,t,n){var a=n(9306),r=n(8981),c=n(7055),l=n(6198),s=TypeError,o="Reduce of empty array with no initial value",i=function(e){return function(t,n,i,d){var u,f,p=r(t),h=c(p),m=l(p);if(a(n),0===m&&i<2)throw new s(o);if(u=e?m-1:0,f=e?-1:1,i<2)for(;;){if(u in h){d=h[u],u+=f;break}if(u+=f,e?u<0:m<=u)throw new s(o)}for(;e?u>=0:m>u;u+=f)u in h&&(d=n(d,h[u],u,p));return d}};e.exports={left:i(!1),right:i(!0)}},4527:function(e,t,n){var s=n(3724),o=n(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,r=s&&!function(){if(0[0]!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=r?function(e,t){if(o(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,n){var s=n(9504);e.exports=s([].slice)},4488:function(e,t,n){var o=n(7680),i=Math.floor,s=function(e,t){if(l=e.length,l<8)for(c=1;c<l;){for(n=c,h=e[c];n&&t(e[n-1],h)>0;)e[n]=e[--n];n!==c++&&(e[n]=h)}else for(var n,c,l,h,f=i(l/2),d=s(o(e,0,f),t),u=s(o(e,f),t),m=d.length,p=u.length,a=0,r=0;a<m||r<p;)e[a+r]=a<m&&r<p?t(d[a],u[r])<=0?d[a++]:u[r++]:a<m?d[a++]:u[r++];return e};e.exports=s},7433:function(e,t,n){var s=n(4376),i=n(3517),a=n(34),r=n(8227)("species"),o=Array;e.exports=function(e){var t;return s(e)&&(t=e.constructor,(i(t)&&(t===o||s(t.prototype))||a(t)&&null===(t=t[r]))&&(t=0[0])),0[0]===t?o:t}},1469:function(e,t,n){var s=n(7433);e.exports=function(e,t){return new(s(e))(0===t?0:t)}},6319:function(e,t,n){var s=n(8551),o=n(9539);e.exports=function(e,t,n,i){try{return i?t(s(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},4428:function(e,t,n){var s,a,o=n(8227)("iterator"),i=!1;try{a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}},s[o]=function(){return this},Array.from(s,function(){throw 2})}catch{}e.exports=function(e,t){try{if(!t&&!i)return!1}catch{return!1}var n,s=!1;try{n={},n[o]=function(){return{next:function(){return{done:s=!0}}}},e(n)}catch{}return s}},4576:function(e,t,n){var s=n(9504),o=s({}.toString),i=s("".slice);e.exports=function(e){return i(o(e),8,-1)}},6955:function(e,t,n){var o=n(2140),i=n(4901),s=n(4576),a=n(8227)("toStringTag"),r=Object,c="Arguments"===s(function(){return arguments}());e.exports=o?s:function(e){var t,n,o;return 0[0]===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch{}}(t=r(e),a))?n:c?s(t):"Object"===(o=s(t))&&i(t.callee)?"Arguments":o}},7740:function(e,t,n){var s=n(9297),o=n(5031),i=n(7347),a=n(4913);e.exports=function(e,t,n){for(var r,l=o(t),d=a.f,u=i.f,c=0;c<l.length;c++)r=l[c],s(e,r)||n&&s(n,r)||d(e,r,u(t,r))}},1436:function(e,t,n){var s=n(8227)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[s]=!1,"/./"[e](t)}catch{}}return!1}},2211:function(e,t,n){var s=n(9039);e.exports=!s(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},6699:function(e,t,n){var s=n(3724),o=n(4913),i=n(6980);e.exports=s?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,n){var s=n(3724),o=n(4913),i=n(6980);e.exports=function(e,t,n){s?o.f(e,t,i(0,n)):e[t]=n}},3640:function(e,t,n){var s=n(8551),o=n(4270),i=TypeError;e.exports=function(e){if(s(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new i("Incorrect hint");return o(this,e)}},2106:function(e,t,n){var s=n(283),o=n(4913);e.exports=function(e,t,n){return n.get&&s(n.get,t,{getter:!0}),n.set&&s(n.set,t,{setter:!0}),o.f(e,t,n)}},6840:function(e,t,n){var s=n(4901),o=n(4913),i=n(283),a=n(9433);e.exports=function(e,t,n,r){r||(r={});var c=r.enumerable,l=0[0]!==r.name?r.name:t;if(s(n)&&i(n,l,r),r.global)c?e[t]=n:a(t,n);else{try{r.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e}},9433:function(e,t,n){var s=n(4475),o=Object.defineProperty;e.exports=function(e,t){try{o(s,e,{value:t,configurable:!0,writable:!0})}catch{s[e]=t}return t}},4606:function(e,t,n){var s=n(6823),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw new o("Cannot delete property "+s(t)+" of "+s(e))}},3724:function(e,t,n){var s=n(9039);e.exports=!s(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:function(e,t,n){var i=n(4475),o=n(34),s=i.document,a=o(s)&&o(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},6837:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7400:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(e,t,n){var s=n(4055)("span").classList,o=s&&s.constructor&&s.constructor.prototype;e.exports=o===Object.prototype?0[0]:o},8834:function(e,t,n){var s=n(9392).match(/firefox\/(\d+)/i);e.exports=!!s&&+s[1]},3202:function(e,t,n){var s=n(9392);e.exports=/MSIE|Trident/.test(s)},9088:function(e,t,n){var s=n(4475),o=n(4576);e.exports="process"===o(s.process)},9392:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,n){var s,o,a=n(4475),i=n(9392),r=a.process,c=a.Deno,l=r&&r.versions||c&&c.version,d=l&&l.v8;d&&(o=(s=d.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&i&&(!(s=i.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=i.match(/Chrome\/(\d+)/))&&(o=+s[1]),e.exports=o},9160:function(e,t,n){var s=n(9392).match(/AppleWebKit\/(\d+)\./);e.exports=!!s&&+s[1]},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(e,t,n){var s=n(4475),o=n(7347).f,i=n(6699),a=n(6840),r=n(9433),c=n(7740),l=n(2796);e.exports=function(e,t){var n,d,u,m,f,h=e.target,p=e.global,g=e.stat;if(m=p?s:g?s[h]||r(h,{}):s[h]&&s[h].prototype)for(n in t){if(u=t[n],d=e.dontCallGetSet?(f=o(m,n))&&f.value:m[n],!l(p?n:h+(g?".":"#")+n,e.forced)&&0[0]!==d){if(typeof u==typeof d)continue;c(u,d)}(e.sham||d&&d.sham)&&i(u,"sham",!0),a(m,n,u,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch{return!0}}},9228:function(e,t,n){n(7495);var o=n(9565),i=n(6840),c=n(7323),a=n(9039),r=n(8227),l=n(6699),d=r("species"),s=RegExp.prototype;e.exports=function(e,t,n,u){var f,p,h=r(e),m=!a(function(){var t={};return t[h]=function(){return 7},7!==""[e](t)}),g=m&&!a(function(){var n=!1,t=/a/;return"split"===e&&((t={}).constructor={},t.constructor[d]=function(){return t},t.flags="",t[h]=/./[h]),t.exec=function(){return n=!0,null},t[h](""),!n});(!m||!g||n)&&(p=/./[h],f=t(h,""[e],function(e,t,n,i,a){var r=t.exec;return r===c||r===s.exec?m&&!a?{done:!0,value:o(p,t,n,i)}:{done:!0,value:o(e,n,t,i)}:{done:!1}}),i(String.prototype,e,f[0]),i(s,h,f[1])),u&&l(s[h],"sham",!0)}},8745:function(e,t,n){var a=n(616),s=Function.prototype,o=s.apply,i=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?i.bind(o):function(){return i.apply(o,arguments)})},6080:function(e,t,n){var s=n(7476),o=n(9306),i=n(616),a=s(s.bind);e.exports=function(e,t){return o(e),0[0]===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,n){var s=n(9039);e.exports=!s(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},9565:function(e,t,n){var o=n(616),s=Function.prototype.call;e.exports=o?s.bind(s):function(){return s.apply(s,arguments)}},350:function(e,t,n){var s=n(3724),a=n(9297),i=Function.prototype,r=s&&Object.getOwnPropertyDescriptor,o=a(i,"name"),c=o&&"something"===function(){}.name,l=o&&(!s||s&&r(i,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:l}},6706:function(e,t,n){var s=n(9504),o=n(9306);e.exports=function(e,t,n){try{return s(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch{}}},7476:function(e,t,n){var s=n(4576),o=n(9504);e.exports=function(e){if("Function"===s(e))return o(e)}},9504:function(e,t,n){var o=n(616),i=Function.prototype,s=i.call,a=o&&i.bind.bind(s,s);e.exports=o?a:function(e){return function(){return s.apply(e,arguments)}}},7751:function(e,t,n){var s=n(4475),o=n(4901);e.exports=function(e,t){return arguments.length<2?(n=s[e],o(n)?n:0[0]):s[e]&&s[e][t];var n}},851:function(e,t,n){var o=n(6955),s=n(5966),i=n(4117),a=n(6269),r=n(8227)("iterator");e.exports=function(e){if(!i(e))return s(e,r)||s(e,"@@iterator")||a[o(e)]}},81:function(e,t,n){var s=n(9565),o=n(9306),i=n(8551),a=n(6823),r=n(851),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?r(e):t;if(o(n))return i(s(n,e));throw new c(a(e)+" is not iterable")}},6933:function(e,t,n){var a=n(9504),s=n(4376),r=n(4901),o=n(4576),c=n(655),i=a([].push);e.exports=function(e){if(r(e))return e;if(s(e)){for(var t,l,d,u=e.length,n=[],a=0;a<u;a++)t=e[a],"string"==typeof t?i(n,t):"number"!=typeof t&&"Number"!==o(t)&&"String"!==o(t)||i(n,c(t));return d=n.length,l=!0,function(e,t){if(l)return l=!1,t;if(s(this))return t;for(var o=0;o<d;o++)if(n[o]===e)return t}}}},5966:function(e,t,n){var s=n(9306),o=n(4117);e.exports=function(e,t){var n=e[t];return o(n)?0[0]:s(n)}},2478:function(e,t,n){var s=n(9504),a=n(8981),r=Math.floor,o=s("".charAt),c=s("".replace),i=s("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,s,u,h){var p=n+e.length,m=s.length,f=d;return 0[0]!==u&&(u=a(u),f=l),c(h,f,function(a,c){switch(o(c,0)){case"$":return"$";case"&":return e;case"`":return i(t,0,n);case"'":return i(t,p);case"<":d=u[i(c,1,-1)];break;default:var l,d,h=+c;if(0===h)return a;if(h>m)return l=r(h/10),0===l?a:l<=m?0[0]===s[l-1]?o(c,1):s[l-1]+o(c,1):a;d=s[h-1]}return 0[0]===d?"":d})}},4475:function(e,t,n){var s=function(e){return e&&e.Math===Math&&e};e.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof n.g&&n.g)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){var s=n(9504),o=n(8981),i=s({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},421:function(e){e.exports={}},397:function(e,t,n){var s=n(7751);e.exports=s("document","documentElement")},5917:function(e,t,n){var s=n(3724),o=n(9039),i=n(4055);e.exports=!s&&!o(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},7055:function(e,t,n){var o=n(9504),i=n(9039),a=n(4576),s=Object,r=o("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return"String"===a(e)?r(e,""):s(e)}:s},3167:function(e,t,n){var o=n(4901),i=n(34),s=n(2967);e.exports=function(e,t,n){var a,r;return s&&o(a=t.constructor)&&a!==n&&i(r=a.prototype)&&r!==n.prototype&&s(e,r),e}},3706:function(e,t,n){var o=n(9504),i=n(4901),s=n(7629),a=o(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},1181:function(e,t,n){var s,o,i,a,r,b=n(8622),h=n(4475),g=n(34),m=n(6699),l=n(9297),d=n(7629),f=n(6119),p=n(421),u="Object already initialized",c=h.TypeError,v=h.WeakMap;b||d.state?(s=d.state||(d.state=new v),s.get=s.get,s.has=s.has,s.set=s.set,a=function(e,t){if(s.has(e))throw new c(u);return t.facade=e,s.set(e,t),t},i=function(e){return s.get(e)||{}},r=function(e){return s.has(e)}):(o=f("state"),p[o]=!0,a=function(e,t){if(l(e,o))throw new c(u);return t.facade=e,m(e,o,t),t},i=function(e){return l(e,o)?e[o]:{}},r=function(e){return l(e,o)}),e.exports={set:a,get:i,has:r,enforce:function(e){return r(e)?i(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!g(t)||(n=i(t)).type!==e)throw new c("Incompatible receiver, "+e+" required");return n}}}},4209:function(e,t,n){var s=n(8227),o=n(6269),i=s("iterator"),a=Array.prototype;e.exports=function(e){return 0[0]!==e&&(o.Array===e||a[i]===e)}},4376:function(e,t,n){var s=n(4576);e.exports=Array.isArray||function(e){return"Array"===s(e)}},4901:function(e){var t="object"==typeof document&&document.all;e.exports=0[0]===t&&0[0]!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},3517:function(e,t,n){var f=n(9504),p=n(9039),r=n(4901),l=n(6955),u=n(7751),d=n(3706),i=function(){},c=u("Reflect","construct"),o=/^\s*(?:class|function)\b/,h=f(o.exec),m=!o.test(i),s=function(e){if(!r(e))return!1;try{return c(i,[],e),!0}catch{return!1}},a=function(e){if(!r(e))return!1;switch(l(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!h(o,d(e))}catch{return!0}};a.sham=!0,e.exports=!c||p(function(){var e;return s(s.call)||!s(Object)||!s(function(){e=!0})||e})?a:s},2796:function(e,t,n){var o=n(9039),i=n(4901),a=/#|\.prototype\./,s=function(e,t){var n=c[r(e)];return n===d||n!==l&&(i(t)?o(t):!!t)},r=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",d=s.POLYFILL="P";e.exports=s},2087:function(e,t,n){var s=n(34),o=Math.floor;e.exports=Number.isInteger||function(e){return!s(e)&&isFinite(e)&&o(e)===e}},4117:function(e){e.exports=function(e){return e==null}},34:function(e,t,n){var s=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:s(e)}},3925:function(e,t,n){var s=n(34);e.exports=function(e){return s(e)||null===e}},6395:function(e){e.exports=!1},788:function(e,t,n){var s=n(34),o=n(4576),i=n(8227)("match");e.exports=function(e){var t;return s(e)&&(0[0]!==(t=e[i])?!!t:"RegExp"===o(e))}},757:function(e,t,n){var s=n(7751),o=n(4901),i=n(1625),a=n(7040),r=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=s("Symbol");return o(t)&&i(t.prototype,r(e))}},9539:function(e,t,n){var o=n(9565),s=n(8551),i=n(5966);e.exports=function(e,t,n){var a,r;s(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=o(a,e)}catch(e){r=!0,a=e}if("throw"===t)throw n;if(r)throw a;return s(a),n}},3994:function(e,t,n){var s=n(7657).IteratorPrototype,o=n(2360),i=n(6980),a=n(687),r=n(6269),c=function(){return this};e.exports=function(e,t,n,l){var d=t+" Iterator";return e.prototype=o(s,{next:i(+!l,n)}),a(e,d,!1,!0),r[d]=c,e}},1088:function(e,t,n){var O=n(6518),C=n(9565),a=n(6395),c=n(350),x=n(4901),v=n(3994),l=n(2787),d=n(2967),w=n(687),_=n(6699),r=n(6840),y=n(8227),p=n(6269),g=n(7657),j=c.PROPER,b=c.CONFIGURABLE,m=g.IteratorPrototype,i=g.BUGGY_SAFARI_ITERATORS,o=y("iterator"),u="keys",s="values",h="entries",f=function(){return this};e.exports=function(e,t,n,c,g,y,E){v(n,t,c);var A,M,T,z=function(e){if(e===g&&S)return S;if(!i&&e&&e in k)return k[e];switch(e){case u:case s:case h:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",D=!1,k=e.prototype,F=k[o]||k["@@iterator"]||g&&k[g],S=!i&&F||z(g),L="Array"===t&&k.entries||F;if(L&&(A=l(L.call(new e)))!==Object.prototype&&A.next&&(a||l(A)===m||(d?d(A,m):x(A[o])||r(A,o,f)),w(A,N,!0,!0),a&&(p[N]=f)),j&&g===s&&F&&F.name!==s&&(!a&&b?_(k,"name",s):(D=!0,S=function(){return C(F,this)})),g)if(M={values:z(s),keys:y?S:z(u),entries:z(h)},E)for(T in M)(i||D||!(T in k))&&r(k,T,M[T]);else O({target:t,proto:!0,forced:i||D},M);return a&&!E||k[o]===S||r(k,o,S,{name:g}),p[t]=S,M}},7657:function(e,t,n){var s,i,a,p=n(9039),f=n(4901),d=n(34),l=n(2360),c=n(2787),u=n(6840),h=n(8227),m=n(6395),o=h("iterator"),r=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(s=i):r=!0),!d(s)||p(function(){var e={};return s[o].call(e)!==e})?s={}:m&&(s=l(s)),f(s[o])||u(s,o,function(){return this}),e.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:r}},6269:function(e){e.exports={}},6198:function(e,t,n){var s=n(8014);e.exports=function(e){return s(e.length)}},283:function(e,t,n){var a=n(9504),f=n(9039),m=n(4901),o=n(9297),i=n(3724),u=n(350).CONFIGURABLE,d=n(3706),r=n(1181),l=r.enforce,h=r.get,c=String,s=Object.defineProperty,p=a("".slice),g=a("".replace),v=a([].join),b=i&&!f(function(){return 8!==s(function(){},"length",{value:8}).length}),j=String(String).split("String"),y=e.exports=function(e,t,n){"Symbol("===p(c(t),0,7)&&(t="["+g(c(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||u&&e.name!==t)&&(i?s(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&o(n,"arity")&&e.length!==n.arity&&s(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?i&&s(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=0[0])}catch{}var a=l(e);return o(a,"source")||(a.source=v(j,"string"==typeof t?t:"")),e};Function.prototype.toString=y(function(){return m(this)&&h(this).source||d(this)},"toString")},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var s=+e;return(s>0?n:t)(s)}},5749:function(e,t,n){var s=n(788),o=TypeError;e.exports=function(e){if(s(e))throw new o("The method doesn't accept regular expressions");return e}},4213:function(e,t,n){var i=n(3724),r=n(9504),c=n(9565),l=n(9039),o=n(1072),d=n(3717),u=n(8773),h=n(8981),m=n(7055),s=Object.assign,a=Object.defineProperty,f=r([].concat);e.exports=!s||l(function(){if(i&&1!==s({b:1},s(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==s({},e)[n]||o(s({},t)).join("")!==r})?function(e){for(var a=h(e),v=arguments.length,r=1,l=d.f,b=u.f;v>r;)for(var s,n=m(arguments[r++]),p=l?f(o(n),l(n)):o(n),j=p.length,g=0;j>g;)s=p[g++],i&&!c(b,n,s)||(a[s]=n[s]);return a}:s},2360:function(e,t,n){var o,v=n(8551),g=n(6801),c=n(8727),p=n(421),f=n(397),h=n(4055),m=n(6119),i="prototype",r="script",l=m("IE_PROTO"),a=function(){},d=function(e){return"<"+r+">"+e+"</"+r+">"},u=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},s=function(){try{o=new ActiveXObject("htmlfile")}catch{}s="undefined"!=typeof document?document.domain&&o?u(o):(e=h("iframe"),n="java"+r+":",e.style.display="none",f.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):u(o);for(var e,t,n,a=c.length;a--;)delete s[i][c[a]];return s()};p[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(a[i]=v(e),n=new a,a[i]=null,n[l]=e):n=s(),0[0]===t?n:g.f(n,t)}},6801:function(e,t,n){var s=n(3724),o=n(8686),i=n(4913),a=n(8551),r=n(5397),c=n(1072);t.f=s&&!o?Object.defineProperties:function(e,t){a(e);for(var n,l=r(t),s=c(t),d=s.length,o=0;d>o;)i.f(e,n=s[o++],l[n]);return e}},4913:function(e,t,n){var l=n(3724),d=n(5917),u=n(8686),s=n(8551),c=n(6969),h=TypeError,o=Object.defineProperty,m=Object.getOwnPropertyDescriptor,i="enumerable",a="configurable",r="writable";t.f=l?u?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&r in n&&!n[r]){var l=m(e,t);l&&l[r]&&(e[t]=n.value,n={configurable:a in n?n[a]:l[a],enumerable:i in n?n[i]:l[i],writable:!1})}return o(e,t,n)}:o:function(e,t,n){if(s(e),t=c(t),s(n),d)try{return o(e,t,n)}catch{}if("get"in n||"set"in n)throw new h("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){var o=n(3724),i=n(9565),a=n(8773),r=n(6980),c=n(5397),l=n(6969),d=n(9297),u=n(5917),s=Object.getOwnPropertyDescriptor;t.f=o?s:function(e,t){if(e=c(e),t=l(t),u)try{return s(e,t)}catch{}if(d(e,t))return r(!i(a.f,e,t),e[t])}},298:function(e,t,n){var i=n(4576),a=n(5397),s=n(8480).f,r=n(7680),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"Window"===i(e)?function(e){try{return s(e)}catch{return r(o)}}(e):s(a(e))}},8480:function(e,t,n){var s=n(1828),o=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,o)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,n){var i=n(9297),a=n(4901),r=n(8981),c=n(6119),l=n(2211),o=c("IE_PROTO"),s=Object,d=s.prototype;e.exports=l?s.getPrototypeOf:function(e){var n,t=r(e);return i(t,o)?t[o]:(n=t.constructor,a(n)&&t instanceof n?n.prototype:t instanceof s?d:null)}},1625:function(e,t,n){var s=n(9504);e.exports=s({}.isPrototypeOf)},1828:function(e,t,n){var i=n(9504),s=n(9297),a=n(5397),r=n(9617).indexOf,c=n(421),o=i([].push);e.exports=function(e,t){var n,l=a(e),d=0,i=[];for(n in l)!s(c,n)&&s(l,n)&&o(i,n);for(;t.length>d;)s(l,n=t[d++])&&(~r(i,n)||o(i,n));return i}},1072:function(e,t,n){var s=n(1828),o=n(8727);e.exports=Object.keys||function(e){return s(e,o)}},8773:function(e,t){var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!n.call({1:2},1);t.f=o?function(e){var t=s(this,e);return!!t&&t.enumerable}:n},2551:function(e,t,n){var o=n(6395),i=n(4475),a=n(9039),s=n(9160);e.exports=o||!a(function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]}})},2967:function(e,t,n){var s=n(6706),o=n(34),i=n(7750),a=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=s(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch{}return function(n,s){return i(n),a(s),o(n)?(t?e(n,s):n.__proto__=s,n):n}}():0[0])},3179:function(e,t,n){var s=n(2140),o=n(6955);e.exports=s?{}.toString:function(){return"[object "+o(this)+"]"}},4270:function(e,t,n){var s=n(9565),o=n(4901),i=n(34),a=TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!i(r=s(n,e)))return r;if(o(n=e.valueOf)&&!i(r=s(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!i(r=s(n,e)))return r;throw new a("Can't convert object to primitive value")}},5031:function(e,t,n){var s=n(7751),o=n(9504),i=n(8480),a=n(3717),r=n(8551),c=o([].concat);e.exports=s("Reflect","ownKeys")||function(e){var t=i.f(r(e)),n=a.f;return n?c(t,n(e)):t}},9167:function(e,t,n){var s=n(4475);e.exports=s},1056:function(e,t,n){var s=n(4913).f;e.exports=function(e,t,n){n in e||s(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},6682:function(e,t,n){var s=n(9565),o=n(8551),i=n(4901),a=n(4576),r=n(7323),c=TypeError;e.exports=function(e,t){var n,l=e.exec;if(i(l))return n=s(l,e,t),null!==n&&o(n),n;if("RegExp"===a(e))return s(r,e,t);throw new c("RegExp#exec called on incompatible receiver")}},7323:function(e,t,n){var a,u,s=n(9565),o=n(9504),x=n(655),O=n(7979),w=n(8429),_=n(5745),v=n(2360),g=n(1181).get,m=n(3635),f=n(8814),p=_("native-string-replace",String.prototype.replace),i=RegExp.prototype.exec,d=i,b=o("".charAt),j=o("".indexOf),y=o("".replace),l=o("".slice),c=(a=/b*/g,s(i,u=/a/,"a"),s(i,a,"a"),0!==u.lastIndex||0!==a.lastIndex),h=w.BROKEN_CARET,r=0[0]!==/()??/.exec("")[1];(c||r||h||m||f)&&(d=function(e){var t,o,m,S,M,F,T,n=this,A=g(n),u=x(e),w=A.raw;if(w)return w.lastIndex=n.lastIndex,S=s(d,w,u),n.lastIndex=w.lastIndex,S;var E=A.groups,C=h&&n.sticky,a=s(O,n),_=n.source,k=0,f=u;if(C&&(a=y(a,"y",""),-1===j(a,"g")&&(a+="g"),f=l(u,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&`
`!==b(u,n.lastIndex-1))&&(_="(?: "+_+")",f=" "+f,k++),m=new RegExp("^(?:"+_+")",a)),r&&(m=new RegExp("^"+_+"$(?!\\s)",a)),c&&(T=n.lastIndex),t=s(i,C?m:n,f),C?t?(t.input=l(t.input,k),t[0]=l(t[0],k),t.index=n.lastIndex,n.lastIndex+=t[0].length):n.lastIndex=0:c&&t&&(n.lastIndex=n.global?t.index+t[0].length:T),r&&t&&t.length>1&&s(p,t[0],m,function(){for(o=1;o<arguments.length-2;o++)0[0]===arguments[o]&&(t[o]=0[0])}),t&&E)for(t.groups=F=v(null),o=0;o<E.length;o++)F[(M=E[o])[0]]=t[M[1]];return t}),e.exports=d},7979:function(e,t,n){var s=n(8551);e.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},1034:function(e,t,n){var o=n(9565),i=n(9297),a=n(1625),r=n(7979),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return 0[0]!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:o(r,e)}},8429:function(e,t,n){var s=n(9039),o=n(4475).RegExp,i=s(function(){var e=o("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),a=i||s(function(){return!o("a","y").sticky}),r=i||s(function(){var e=o("^r","gy");return e.lastIndex=2,null!==e.exec("str")});e.exports={BROKEN_CARET:r,MISSED_STICKY:a,UNSUPPORTED_Y:i}},3635:function(e,t,n){var s=n(9039),o=n(4475).RegExp;e.exports=s(function(){var e=o(".","s");return!(e.dotAll&&e.test(`
`)&&"s"===e.flags)})},8814:function(e,t,n){var s=n(9039),o=n(4475).RegExp;e.exports=s(function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},7750:function(e,t,n){var s=n(4117),o=TypeError;e.exports=function(e){if(s(e))throw new o("Can't call method on "+e);return e}},7633:function(e,t,n){var o=n(7751),i=n(2106),a=n(8227),r=n(3724),s=a("species");e.exports=function(e){var t=o(e);r&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},687:function(e,t,n){var o=n(4913).f,i=n(9297),s=n(8227)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&o(e,s,{configurable:!0,value:t})}},6119:function(e,t,n){var o=n(5745),i=n(3392),s=o("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},7629:function(e,t,n){var i=n(6395),a=n(4475),r=n(9433),s="__core-js_shared__",o=e.exports=a[s]||r(s,{});(o.versions||(o.versions=[])).push({version:"3.37.0",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){var s=n(7629);e.exports=function(e,t){return s[e]||(s[e]=t||{})}},2293:function(e,t,n){var s=n(8551),o=n(5548),i=n(4117),a=n(8227)("species");e.exports=function(e,t){var n,r=s(e).constructor;return 0[0]===r||i(n=s(r)[a])?t:o(n)}},8183:function(e,t,n){var s=n(9504),a=n(1291),r=n(655),c=n(7750),l=s("".charAt),o=s("".charCodeAt),d=s("".slice),i=function(e){return function(t,n){var u,h,i=r(c(t)),s=a(n),m=i.length;return s<0||s>=m?e?"":0[0]:(u=o(i,s))<55296||u>56319||s+1===m||(h=o(i,s+1))<56320||h>57343?e?l(i,s):u:e?d(i,s,s+2):h-56320+(u-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},706:function(e,t,n){var o=n(350).PROPER,i=n(9039),s=n(7452);e.exports=function(e){return i(function(){return!!s[e]()||"​᠎"!=="​᠎"[e]()||o&&s[e].name!==e})}},3802:function(e,t,n){var a=n(9504),r=n(7750),c=n(655),s=n(7452),i=a("".replace),l=RegExp("^["+s+"]+"),d=RegExp("(^|[^"+s+"])["+s+"]+$"),o=function(e){return function(t){var n=c(r(t));return 1&e&&(n=i(n,l,"")),2&e&&(n=i(n,d,"$1")),n}};e.exports={start:o(1),end:o(2),trim:o(3)}},4495:function(e,t,n){var s=n(7388),o=n(9039),i=n(4475).String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&s&&s<41})},8242:function(e,t,n){var s=n(9565),o=n(7751),i=n(8227),a=n(6840);e.exports=function(){var t=o("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=i("toPrimitive");e&&!e[n]&&a(e,n,function(){return s(r,this)},{arity:1})}},1296:function(e,t,n){var s=n(4495);e.exports=s&&!!Symbol.for&&!!Symbol.keyFor},1240:function(e,t,n){var s=n(9504);e.exports=s(1..valueOf)},5610:function(e,t,n){var s=n(1291),o=Math.max,i=Math.min;e.exports=function(e,t){var n=s(e);return n<0?o(n+t,0):i(n,t)}},5397:function(e,t,n){var s=n(7055),o=n(7750);e.exports=function(e){return s(o(e))}},1291:function(e,t,n){var s=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:s(t)}},8014:function(e,t,n){var s=n(1291),o=Math.min;e.exports=function(e){var t=s(e);return t>0?o(t,9007199254740991):0}},8981:function(e,t,n){var s=n(7750),o=Object;e.exports=function(e){return o(s(e))}},2777:function(e,t,n){var i=n(9565),s=n(34),o=n(757),a=n(5966),r=n(4270),c=n(8227),l=TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var n,c=a(e,d);if(c){if(0[0]===t&&(t="default"),n=i(c,e,t),!s(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return 0[0]===t&&(t="number"),r(e,t)}},6969:function(e,t,n){var s=n(2777),o=n(757);e.exports=function(e){var t=s(e,"string");return o(t)?t:t+""}},2140:function(e,t,n){var s={};s[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(s)},655:function(e,t,n){var s=n(6955),o=String;e.exports=function(e){if("Symbol"===s(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch{return"Object"}}},3392:function(e,t,n){var s=n(9504),o=0,i=Math.random(),a=s(1..toString);e.exports=function(e){return"Symbol("+(0[0]===e?"":e)+")_"+a(++o+i,36)}},7040:function(e,t,n){var s=n(4495);e.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){var s=n(3724),o=n(9039);e.exports=s&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8622:function(e,t,n){var o=n(4475),i=n(4901),s=o.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},511:function(e,t,n){var s=n(9167),o=n(9297),i=n(1951),a=n(4913).f;e.exports=function(e){var t=s.Symbol||(s.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},1951:function(e,t,n){var s=n(8227);t.f=s},8227:function(e,t,n){var a=n(4475),r=n(5745),i=n(9297),c=n(3392),l=n(4495),d=n(7040),s=a.Symbol,o=r("wks"),u=d?s.for||s:s&&s.withoutSetter||c;e.exports=function(e){return i(o,e)||(o[e]=l&&i(s,e)?s[e]:u("Symbol."+e)),o[e]}},7452:function(e){e.exports=`	
\r                　  ﻿`},8706:function(e,t,n){var l=n(6518),p=n(9039),d=n(4376),a=n(34),r=n(8981),c=n(6198),s=n(6837),i=n(4659),u=n(1469),h=n(597),m=n(8227),f=n(7388),o=m("isConcatSpreadable"),g=f>=51||!p(function(){var e=[];return e[o]=!1,e.concat()[0]!==e}),v=function(e){if(!a(e))return!1;var t=e[o];return 0[0]!==t?!!t:d(e)};l({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(){var n,o,a,d,h,m=r(this),l=u(m,0),t=0;for(n=-1,h=arguments.length;n<h;n++)if(v(a=-1===n?m:arguments[n]))for(d=c(a),s(t+d),o=0;o<d;o++,t++)o in a&&i(l,t,a[o]);else s(t+1),i(l,t++,a);return l.length=t,l}})},2008:function(e,t,n){var s=n(6518),o=n(9213).filter;s({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:0[0])}})},3418:function(e,t,n){var s=n(6518),o=n(7916);s({target:"Array",stat:!0,forced:!n(4428)(function(e){Array.from(e)})},{from:o})},4423:function(e,t,n){var s=n(6518),o=n(9617).includes,i=n(9039),a=n(6469);s({target:"Array",proto:!0,forced:i(function(){return!Array(1).includes()})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:0[0])}}),a("includes")},5276:function(e,t,n){var i=n(6518),a=n(7476),r=n(9617).indexOf,c=n(4598),s=a([].indexOf),o=!!s&&1/s([1],1,-0)<0;i({target:"Array",proto:!0,forced:o||!c("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:0[0];return o?s(this,e,t)||0:r(this,e,t)}})},3792:function(e,t,n){var i,u=n(5397),o=n(6469),c=n(6269),a=n(1181),l=n(4913).f,d=n(1088),s=n(2529),h=n(6395),m=n(3724),r="Array Iterator",f=a.set,p=a.getterFor(r);if(e.exports=d(Array,"Array",function(e,t){f(this,{type:r,target:u(e),index:0,kind:t})},function(){var t=p(this),n=t.target,e=t.index++;if(!n||e>=n.length)return t.target=0[0],s(0[0],!0);switch(t.kind){case"keys":return s(e,!1);case"values":return s(n[e],!1)}return s([e,n[e]],!1)},"values"),i=c.Arguments=c.Array,o("keys"),o("values"),o("entries"),!h&&m&&"values"!==i.name)try{l(i,"name",{value:"values"})}catch{}},8598:function(e,t,n){var s=n(6518),o=n(9504),i=n(7055),a=n(5397),r=n(4598),c=o([].join);s({target:"Array",proto:!0,forced:i!==Object||!r("join",",")},{join:function(e){return c(a(this),0[0]===e?",":e)}})},2062:function(e,t,n){var s=n(6518),o=n(9213).map;s({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:0[0])}})},2712:function(e,t,n){var o=n(6518),i=n(926).left,a=n(4598),s=n(7388);o({target:"Array",proto:!0,forced:!n(9088)&&s>79&&s<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:0[0])}})},4782:function(e,t,n){var l=n(6518),i=n(4376),g=n(3517),r=n(34),o=n(5610),c=n(6198),a=n(5397),d=n(4659),u=n(8227),h=n(597),m=n(7680),f=h("slice"),p=u("species"),s=Array,v=Math.max;l({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,h,f,l=a(this),b=c(l),u=o(e,b),j=o(0[0]===t?b:t,b);if(i(l)&&(n=l.constructor,(g(n)&&(n===s||i(n.prototype))||r(n)&&null===(n=n[p]))&&(n=0[0]),n===s||0[0]===n))return m(l,u,j);for(h=new(0[0]===n?s:n)(v(j-u,0)),f=0;u<j;u++,f++)u in l&&d(h,f,l[u]);return h.length=f,h}})},6910:function(e,t,n){var b=n(6518),d=n(9504),v=n(9306),f=n(8981),r=n(6198),O=n(4606),l=n(655),o=n(9039),g=n(4488),p=n(4598),a=n(8834),m=n(3202),h=n(7388),u=n(9160),s=[],i=d(s.sort),j=d(s.push),y=o(function(){s.sort(0[0])}),_=o(function(){s.sort(null)}),w=p("sort"),c=!o(function(){if(h)return h<70;if(!(a&&a>3)){if(m)return!0;if(u)return u<603;var e,t,n,o,i="";for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(e=0;e<47;e++)s.push({k:n+e,v:o})}for(s.sort(function(e,t){return t.v-e.v}),e=0;e<s.length;e++)n=s[e].k.charAt(0),i.charAt(i.length-1)!==n&&(i+=n);return"DGBEFHACIJK"!==i}});b({target:"Array",proto:!0,forced:y||!_||!w||!c},{sort:function(e){if(0[0]!==e&&v(e),n=f(this),c)return 0[0]===e?i(n):i(n,e);var t,n,o,s=[],a=r(n);for(t=0;t<a;t++)t in n&&j(s,n[t]);for(g(s,function(e){return function(t,n){return 0[0]===n?-1:0[0]===t?1:0[0]!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),o=r(s),t=0;t<o;)n[t]=s[t++];for(;t<a;)O(n,t++);return n}})},4554:function(e,t,n){var a=n(6518),h=n(8981),i=n(5610),o=n(1291),r=n(6198),c=n(4527),l=n(6837),d=n(1469),u=n(4659),s=n(4606),m=n(597)("splice"),f=Math.max,p=Math.min;a({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var n,a,g,b,j,_,m=h(this),v=r(m),y=i(e,v),w=arguments.length;for(0===w?g=a=0:1===w?(g=0,a=v-y):(g=w-2,a=p(f(o(t),0),v-y)),l(v+g-a),_=d(m,a),n=0;n<a;n++)(b=y+n)in m&&u(_,n,m[b]);if(_.length=a,g<a){for(n=y;n<v-a;n++)j=n+g,(b=n+a)in m?m[j]=m[b]:s(m,j);for(n=v;n>v-a+g;n--)s(m,n-1)}else if(g>a)for(n=v-a;n>y;n--)j=n+g-1,(b=n+a-1)in m?m[j]=m[b]:s(m,j);for(n=0;n<g;n++)m[n+y]=arguments[n+2];return c(m,v-a+g),_}})},739:function(e,t,n){var s=n(6518),o=n(9039),i=n(8981),a=n(2777);s({target:"Date",proto:!0,arity:1,forced:o(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(){var t=i(this),n=a(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},9572:function(e,t,n){var i=n(9297),a=n(6840),r=n(3640),s=n(8227)("toPrimitive"),o=Date.prototype;i(o,s)||a(o,s,r)},2010:function(e,t,n){var a=n(3724),r=n(350).EXISTS,s=n(9504),c=n(2106),o=Function.prototype,l=s(o.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=s(i.exec);a&&!r&&c(o,"name",{configurable:!0,get:function(){try{return d(i,l(this))[1]}catch{return""}}})},3110:function(e,t,n){var C=n(6518),g=n(7751),p=n(8745),w=n(9565),o=n(9504),c=n(9039),a=n(4901),d=n(757),u=n(7680),x=n(6933),O=n(4495),v=String,s=g("JSON","stringify"),i=o(/./.exec),f=o("".charAt),b=o("".charCodeAt),j=o("".replace),y=o(1..toString),_=/[\uD800-\uDFFF]/g,r=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,h=!O||c(function(){var e=g("Symbol")("stringify detection");return"[null]"!==s([e])||"{}"!==s({a:e})||"{}"!==s(Object(e))}),l=c(function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}),E=function(e,t){var o=u(arguments),n=x(t);if(a(n)||0[0]!==e&&!d(e))return o[1]=function(e,t){if(a(n)&&(t=w(n,this,v(e),t)),!d(t))return t},p(s,null,o)},k=function(e,t,n){var s=f(n,t-1),o=f(n,t+1);return i(r,e)&&!i(m,o)||i(m,e)&&!i(r,s)?"\\u"+y(b(e,0),16):e};s&&C({target:"JSON",stat:!0,arity:3,forced:h||l},{stringify:function(){var i=u(arguments),o=p(h?E:s,null,i);return l&&"string"==typeof o?j(o,_,k):o}})},2892:function(e,t,n){var c,b=n(6518),r=n(6395),F=n(3724),p=n(4475),l=n(9167),g=n(9504),k=n(2796),h=n(9297),w=n(3167),v=n(1625),_=n(757),f=n(2777),M=n(9039),S=n(8480).f,O=n(7347).f,x=n(4913).f,j=n(1240),y=n(3802).trim,o="Number",s=p[o],m=l[o],u=s.prototype,C=p.TypeError,E=g("".slice),a=g("".charCodeAt),A=function(e){var n,s,o,i,r,c,l,d,t=f(e,"number");if(_(t))throw new C("Cannot convert a Symbol value to a number");if("string"==typeof t&&t.length>2)if(t=y(t),43===(s=a(t,0))||45===s){if(88===(c=a(t,2))||120===c)return NaN}else if(48===s){switch(a(t,1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+t}for(l=(r=E(t,2)).length,n=0;n<l;n++)if((d=a(r,n))<48||d>i)return NaN;return parseInt(r,o)}return+t},d=k(o,!s(" 0o1")||!s("0b1")||s("+0x1")),i=function(e){var t,n=arguments.length<1?0:s(function(e){var t=f(e,"number");return"bigint"==typeof t?t:A(t)}(e));return v(u,t=this)&&M(function(){j(t)})?w(Object(n),this,i):n};i.prototype=u,d&&!r&&(u.constructor=i),b({global:!0,constructor:!0,wrap:!0,forced:d},{Number:i}),c=function(e,t){for(var n,o=F?S(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),s=0;o.length>s;s++)h(t,n=o[s])&&!h(e,n)&&x(e,n,O(t,n))},r&&m&&c(l[o],m),(d||r)&&c(l[o],s)},2637:function(e,t,n){n(6518)({target:"Number",stat:!0},{isInteger:n(2087)})},9085:function(e,t,n){var o=n(6518),s=n(4213);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},7427:function(e,t,n){var s=n(6518),o=n(3724),i=n(2551),a=n(9306),r=n(8981),c=n(4913);o&&s({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){c.f(r(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},3851:function(e,t,n){var i=n(6518),a=n(9039),r=n(5397),s=n(7347).f,o=n(3724);i({target:"Object",stat:!0,forced:!o||a(function(){s(1)}),sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(r(e),t)}})},1278:function(e,t,n){var s=n(6518),o=n(3724),i=n(5031),a=n(5397),r=n(7347),c=n(4659);s({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,s=a(e),u=r.f,o=i(s),l={},d=0;o.length>d;)0[0]!==(n=u(s,t=o[d++]))&&c(l,t,n);return l}})},1480:function(e,t,n){var s=n(6518),o=n(9039),i=n(298).f;s({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},9773:function(e,t,n){var o=n(6518),i=n(4495),a=n(9039),s=n(3717),r=n(8981);o({target:"Object",stat:!0,forced:!i||a(function(){s.f(1)})},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(r(e)):[]}})},9432:function(e,t,n){var o=n(6518),i=n(8981),s=n(1072);o({target:"Object",stat:!0,forced:n(9039)(function(){s(1)})},{keys:function(e){return s(i(e))}})},6099:function(e,t,n){var s=n(2140),o=n(6840),i=n(3179);s||o(Object.prototype,"toString",i,{unsafe:!0})},4864:function(e,t,n){var O=n(3724),l=n(4475),r=n(9504),I=n(2796),L=n(3167),N=n(6699),M=n(2360),k=n(8480).f,y=n(1625),F=n(788),m=n(655),V=n(1034),p=n(8429),B=n(1056),P=n(6840),w=n(9039),_=n(9297),E=n(1181).enforce,x=n(7633),T=n(8227),u=n(3635),h=n(8814),C=T("match"),s=l.RegExp,a=s.prototype,A=l.SyntaxError,S=r(a.exec),c=r("".charAt),j=r("".replace),b=r("".indexOf),z=r("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,i=/a/g,d=/a/g,R=new s(i)!==i,v=p.MISSED_STICKY,H=p.UNSUPPORTED_Y;if(I("RegExp",O&&(!R||v||u||h||w(function(){return d[C]=!1,s(i)!==i||s(d)===d||"/a/i"!==String(s(i,"i"))})))){for(var o=function(e,t){var n,l,f,p,g,w,O=y(a,this),x=F(e),C=0[0]===t,d=[],r=e;if(!O&&x&&C&&e.constructor===o)return e;if((x||y(a,e))&&(e=e.source,C&&(t=V(r))),e=0[0]===e?"":m(e),t=0[0]===t?"":m(t),r=e,u&&"dotAll"in i&&(f=!!t&&b(t,"s")>-1)&&(t=j(t,/s/g,"")),w=t,v&&"sticky"in i&&(p=!!t&&b(t,"y")>-1)&&H&&(t=j(t,/y/g,"")),h&&(g=function(e){for(var t,u=e.length,n=0,i="",a=[],l=M(null),r=!1,o=!1,d=0,s="";n<=u;n++){if("\\"===(t=c(e,n)))t+=c(e,++n);else if("]"===t)r=!1;else if(!r)switch(!0){case"["===t:r=!0;break;case"("===t:S(D,z(e,n+1))&&(n+=2,o=!0),i+=t,d++;continue;case">"===t&&o:if(""===s||_(l,s))throw new A("Invalid capture group name");l[s]=!0,a[a.length]=[s,d],o=!1,s="";continue}o?s+=t:i+=t}return[i,a]}(e),e=g[0],d=g[1]),l=L(s(e,t),O?this:a,o),(f||p||d.length)&&(n=E(l),f&&(n.dotAll=!0,n.raw=o(function(e){for(var t,i=e.length,n=0,s="",o=!1;n<=i;n++)"\\"!==(t=c(e,n))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),s+=t):s+="[\\s\\S]":s+=t+c(e,++n);return s}(e),w)),p&&(n.sticky=!0),d.length&&(n.groups=d)),e!==r)try{N(l,"source",""===r?"(?:)":r)}catch{}return l},g=k(s),f=0;g.length>f;)B(o,s,g[f++]);a.constructor=o,o.prototype=a,P(l,"RegExp",o,{constructor:!0})}x("RegExp")},7495:function(e,t,n){var o=n(6518),s=n(7323);o({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},8781:function(e,t,n){var r=n(350).PROPER,c=n(6840),l=n(8551),o=n(655),d=n(9039),u=n(1034),s="toString",i=RegExp.prototype,a=i[s],h=d(function(){return"/a/b"!==a.call({source:"a",flags:"b"})}),m=r&&a.name!==s;(h||m)&&c(i,s,function(){var e=l(this);return"/"+o(e.source)+"/"+o(u(e))},{unsafe:!0})},1699:function(e,t,n){var o=n(6518),i=n(9504),a=n(5749),r=n(7750),s=n(655),c=n(1436),l=i("".indexOf);o({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(s(r(this)),s(a(e)),arguments.length>1?arguments[1]:0[0])}})},7764:function(e,t,n){var a=n(8183).charAt,r=n(655),s=n(1181),c=n(1088),o=n(2529),i="String Iterator",l=s.set,d=s.getterFor(i);c(String,"String",function(e){l(this,{type:i,string:r(e),index:0})},function(){var e,t=d(this),n=t.string,s=t.index;return s>=n.length?o(0[0],!0):(e=a(n,s),t.index+=e.length,o(e,!1))})},8543:function(e,t,n){var D=n(6518),j=n(9565),f=n(7476),L=n(3994),o=n(2529),u=n(7750),h=n(8014),s=n(655),y=n(8551),z=n(4117),T=n(4576),M=n(788),g=n(1034),k=n(5966),E=n(6840),C=n(9039),x=n(8227),O=n(2293),_=n(7829),w=n(6682),m=n(1181),d=n(6395),i=x("matchAll"),b="RegExp String",v=b+" Iterator",A=m.set,S=m.getterFor(v),p=RegExp.prototype,F=TypeError,l=f("".indexOf),a=f("".matchAll),r=!!a&&!C(function(){a("a",/./)}),N=L(function(e,t,n,s){A(this,{type:v,regexp:e,string:t,global:n,unicode:s,done:!1})},b,function(){if(e=S(this),e.done)return o(0[0],!0);var e,n=e.regexp,i=e.string,t=w(n,i);return null===t?(e.done=!0,o(0[0],!0)):e.global?(""===s(t[0])&&(n.lastIndex=_(i,h(n.lastIndex),e.unicode)),o(t,!1)):(e.done=!0,o(t,!1))}),c=function(e){var n,i,a,t=y(this),c=s(e),r=O(t,RegExp),o=s(g(t));return n=new r(r===RegExp?t.source:t,o),i=!!~l(o,"g"),a=!!~l(o,"u"),n.lastIndex=h(t.lastIndex),new N(n,c,i,a)};D({target:"String",proto:!0,forced:r},{matchAll:function(e){var t,o,h,m,n=u(this);if(z(e)){if(r)return a(n,e)}else{if(M(e)&&(m=s(u(g(e))),!~l(m,"g")))throw new F("`.matchAll` does not allow non-global regexes");if(r)return a(n,e);if(0[0]===(t=k(e,i))&&d&&"RegExp"===T(e)&&(t=c),t)return j(t,e,n)}return o=s(n),h=new RegExp(e,"g"),d?j(c,h,o):h[i](o)}}),d||i in p||E(p,i,c)},1761:function(e,t,n){var i=n(9565),a=n(9228),r=n(8551),c=n(4117),l=n(8014),s=n(655),d=n(7750),u=n(5966),h=n(7829),o=n(6682);a("match",function(e,t,n){return[function(t){var n=d(this),o=c(t)?0[0]:u(t,e);return o?i(o,t,n):new RegExp(t)[e](s(n))},function(e){var c,d,u,f,p,i=r(this),a=s(e),m=n(t,i,a);if(m.done)return m.value;if(!i.global)return o(i,a);f=i.unicode,i.lastIndex=0;for(d=[],c=0;null!==(p=o(i,a));)u=s(p[0]),d[c]=u,""===u&&(i.lastIndex=h(a,l(i.lastIndex),f)),c++;return 0===c?null:d}]})},5440:function(e,t,n){var p=n(8745),r=n(9565),o=n(9504),k=n(9228),C=n(9039),x=n(8551),O=n(4901),j=n(4117),m=n(1291),y=n(8014),s=n(655),f=n(7750),u=n(7829),g=n(5966),v=n(2478),b=n(6682),a=n(8227)("replace"),h=Math.max,_=Math.min,w=o([].concat),i=o([].push),d=o("".indexOf),l=o("".slice),E="$0"==="a".replace(/./,"$0"),c=!!/./[a]&&""===/./[a]("a","$0");k("replace",function(e,t,n){var o=c?"$":"$0";return[function(e,n){var o=f(this),i=j(e)?0[0]:g(e,a);return i?r(i,e,o,n):r(t,s(o),e,n)},function(e,a){if(c=x(this),r=s(e),"string"==typeof a&&-1===d(a,o)&&-1===d(a,"$<")&&(N=n(t,c,r,a),N.done))return N.value;T=O(a),T||(a=s(a)),S=c.global,S&&(P=c.unicode,c.lastIndex=0);for(j=[];null!==(f=b(c,r))&&(i(j,f),S);)""===s(f[0])&&(c.lastIndex=u(r,y(c.lastIndex),P));for(var A,R="",E=0,M=0;M<j.length;M++){for(var r,c,f,j,C,k,S,T,N,L,P,F=s((f=j[M])[0]),g=h(_(m(f.index),r.length),0),z=[],D=1;D<f.length;D++)i(z,0[0]===(A=f[D])?A:String(A));C=f.groups,T?(L=w([F],z,g,r),0[0]!==C&&i(L,C),k=s(p(a,0[0],L))):k=v(F,r,g,z,C,a),g>=E&&(R+=l(r,E,g)+k,E=g+F.length)}return R+l(r,E)}]},!!C(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!E||c)},744:function(e,t,n){var a=n(9565),c=n(9504),w=n(9228),y=n(8551),j=n(4117),v=n(7750),f=n(2293),m=n(7829),h=n(8014),r=n(655),u=n(5966),d=n(6682),p=n(8429),g=n(9039),s=p.UNSUPPORTED_Y,b=Math.min,i=c([].push),o=c("".slice),_=!g(function(){var e,t=/(?:)/,n=t.exec;return t.exec=function(){return n.apply(this,arguments)},e="ab".split(t),2!==e.length||"a"!==e[0]||"b"!==e[1]}),l="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;w("split",function(e,t,n){var c="0".split(0[0],0).length?function(e,n){return 0[0]===e&&0===n?[]:a(t,this,e,n)}:t;return[function(t,n){var s=v(this),o=j(t)?0[0]:u(t,e);return o?a(o,t,s,n):a(c,r(s),t,n)},function(e,a){if(p=y(this),u=r(e),!l&&(C=n(c,p,u,a,c!==t),C.done))return C.value;var u,p,w,O,C,E,S=f(p,RegExp),A=p.unicode,k=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(s?"g":"y"),j=new S(s?"^(?:"+p.source+")":p,k),x=0[0]===a?4294967295:a>>>0;if(0===x)return[];if(0===u.length)return null===d(j,u)?[u]:[];for(var _=0,v=0,g=[];v<u.length;)if(j.lastIndex=s?0:v,w=d(j,s?o(u,v):u),null===w||(E=b(h(j.lastIndex+(s?v:0)),u.length))===_)v=m(u,v,A);else{if(i(g,o(u,_,v)),g.length===x)return g;for(O=1;O<=w.length-1;O++)if(i(g,w[O]),g.length===x)return g;v=_=E}return i(g,o(u,_)),g}]},l||!_,s)},2762:function(e,t,n){var s=n(6518),o=n(3802).trim;s({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return o(this)}})},6761:function(e,t,n){var y=n(6518),f=n(4475),T=n(9565),ue=n(9504),de=n(6395),d=n(3724),u=n(4495),le=n(9039),s=n(9297),ce=n(1625),E=n(8551),g=n(5397),C=n(6969),re=n(655),_=n(6980),l=n(2360),z=n(1072),ie=n(8480),V=n(298),ne=n(3717),q=n(7347),D=n(4913),Z=n(6801),K=n(8773),k=n(6840),J=n(2106),S=n(5745),G=n(6119),B=n(421),I=n(3392),ae=n(8227),se=n(1951),fe=n(511),me=n(8242),he=n(687),P=n(1181),b=n(9213).forEach,o=G("hidden"),j="Symbol",h="prototype",te=P.set,W=P.getterFor(j),i=Object[h],c=f.Symbol,v=c&&c[h],Q=f.RangeError,oe=f.TypeError,x=f.QObject,Y=q.f,r=D.f,U=V.f,ee=K.f,$=ue([].push),a=S("symbols"),m=S("op-symbols"),X=S("wks"),w=!x||!x[h]||!x[h].findChild,H=function(e,t,n){var s=Y(i,t);s&&delete i[t],r(e,t,n),s&&e!==i&&r(i,t,s)},O=d&&le(function(){return 7!==l(r({},"a",{get:function(){return r(this,"a",{value:7}).a}})).a})?H:r,A=function(e,t){var n=a[e]=l(v);return te(n,{type:j,tag:e,description:t}),d||(n.description=t),n},p=function(e,t,n){e===i&&p(m,t,n),E(e);var c=C(t);return E(n),s(a,c)?(n.enumerable?(s(e,o)&&e[o][c]&&(e[o][c]=!1),n=l(n,{enumerable:_(0,!1)})):(s(e,o)||r(e,o,_(1,l(null))),e[o][c]=!0),O(e,c,n)):r(e,c,n)},M=function(e,t){E(e);var n=g(t),s=z(n).concat(N(n));return b(s,function(t){d&&!T(F,n,t)||p(e,t,n[t])}),e},F=function(e){var t=C(e),n=T(ee,this,t);return!(this===i&&s(a,t)&&!s(m,t))&&(!(n||!s(this,t)||!s(a,t)||s(this,o)&&this[o][t])||n)},R=function(e,t){var c,r=g(e),n=C(t);if(r!==i||!s(a,n)||s(m,n))return c=Y(r,n),!c||!s(a,n)||s(r,o)&&r[o][n]||(c.enumerable=!0),c},L=function(e){var n=U(g(e)),t=[];return b(n,function(e){s(a,e)||s(B,e)||$(t,e)}),t},N=function(e){var t=e===i,o=U(t?m:g(e)),n=[];return b(o,function(e){!s(a,e)||t&&!s(i,e)||$(n,a[e])}),n};u||(c=function(){if(ce(v,this))throw new oe("Symbol is not a constructor");var t=arguments.length&&0[0]!==arguments[0]?re(arguments[0]):0[0],e=I(t),n=function(t){var r,a=0[0]===this?f:this;a===i&&T(n,m,t),s(a,o)&&s(a[o],e)&&(a[o][e]=!1),r=_(1,t);try{O(a,e,r)}catch(t){if(!(t instanceof Q))throw t;H(a,e,r)}};return d&&w&&O(i,e,{configurable:!0,set:n}),A(e,t)},k(v=c[h],"toString",function(){return W(this).tag}),k(c,"withoutSetter",function(e){return A(I(e),e)}),K.f=F,D.f=p,Z.f=M,q.f=R,ie.f=V.f=L,ne.f=N,se.f=function(e){return A(ae(e),e)},d&&(J(v,"description",{configurable:!0,get:function(){return W(this).description}}),de||k(i,"propertyIsEnumerable",F,{unsafe:!0}))),y({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:c}),b(z(X),function(e){fe(e)}),y({target:j,stat:!0,forced:!u},{useSetter:function(){w=!0},useSimple:function(){w=!1}}),y({target:"Object",stat:!0,forced:!u,sham:!d},{create:function(e,t){return 0[0]===t?l(e):M(l(e),t)},defineProperty:p,defineProperties:M,getOwnPropertyDescriptor:R}),y({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:L}),me(),he(c,j),B[o]=!0},9463:function(e,t,n){var i,r,m=n(6518),g=n(3724),l=n(4475),a=n(9504),f=n(9297),c=n(4901),p=n(1625),d=n(655),u=n(2106),h=n(7740),s=l.Symbol,o=s&&s.prototype;if(g&&c(s)&&(!("description"in o)||0[0]!==s().description)){r={},i=function(){var e=arguments.length<1||0[0]===arguments[0]?0[0]:d(arguments[0]),t=p(o,this)?new s(e):0[0]===e?s():s(e);return""===e&&(r[t]=!0),t},h(i,s),i.prototype=o,o.constructor=i;var v="Symbol(description detection)"===String(s("description detection")),b=a(o.valueOf),j=a(o.toString),y=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),w=a("".slice);u(o,"description",{configurable:!0,get:function(){if(e=b(this),f(r,e))return"";var e,t=j(e),n=v?w(t,7,-1):_(t,y,"$1");return""===n?0[0]:n}}),m({global:!0,constructor:!0,forced:!0},{Symbol:i})}},1510:function(e,t,n){var i=n(6518),a=n(7751),r=n(9297),c=n(655),o=n(5745),l=n(1296),s=o("string-to-symbol-registry"),d=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var n,t=c(e);return r(s,t)?s[t]:(n=a("Symbol")(t),s[t]=n,d[n]=t,n)}})},2259:function(e,t,n){n(511)("iterator")},2675:function(e,t,n){n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(e,t,n){var o=n(6518),i=n(9297),a=n(757),r=n(6823),c=n(5745),l=n(1296),s=c("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw new TypeError(r(e)+" is not a symbol");if(i(s,e))return s[e]}})},5700:function(e,t,n){var s=n(511),o=n(8242);s("toPrimitive"),o()},8344:function(e,t,n){n(8543)},3500:function(e,t,n){var o,i=n(4475),a=n(7400),c=n(9296),s=n(235),l=n(6699),r=function(e){if(e&&e.forEach!==s)try{l(e,"forEach",s)}catch{e.forEach=s}};for(o in a)a[o]&&r(i[o]&&i[o].prototype);r(c)},2953:function(e,t,n){var a,r=n(4475),c=n(7400),u=n(9296),s=n(3792),l=n(6699),h=n(687),o=n(8227)("iterator"),i=s.values,d=function(e,t){if(e){if(e[o]!==i)try{l(e,o,i)}catch{e[o]=i}if(h(e,t,!0),c[t])for(var n in s)if(e[n]!==s[n])try{l(e,n,s[n])}catch{e[n]=s[n]}}};for(a in c)d(r[a]&&r[a].prototype,a);d(u,"DOMTokenList")}},n={};function e(t){var o,i=n[t];return 0[0]!==i?i.exports:(o=n[t]={exports:{}},s[t].call(o.exports,o,o.exports,e),o.exports)}return e.d=function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={},function(){function S(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):0[0]}}function f(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function g(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}function s(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n,s=e[Symbol.toPrimitive];if(0[0]!==s){if(n=s.call(e,t||"default"),"object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}e.r(t),e.d(t,{SimpleKeyboard:function(){return M},default:function(){return F}}),e(5276),e(8598),e(4782),e(4554),e(2010),e(7427),e(6099),e(7495),e(8781),e(5440),e(744),e(2762),"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){if("Element"in e){var i,a="classList",t="prototype",r=e.Element[t],o=Object,u=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array[t].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},c=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return h.call(e,t)},l=function(e){for(var n=u.call(e.getAttribute("class")||""),s=n?n.split(/\s+/):[],t=0,o=s.length;t<o;t++)this.push(s[t]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},n=l[t]=[],d=function(){return new l(this)};if(c[t]=Error[t],n.item=function(e){return this[e]||null},n.contains=function(e){return~s(this,e+"")},n.add=function(){var e,t=arguments,n=0,i=t.length,o=!1;do~s(this,e=t[n]+"")||(this.push(e),o=!0);while(++n<i)o&&this._updateClassName()},n.remove=function(){var e,t,n=arguments,o=0,a=n.length,i=!1;do for(e=s(this,t=n[o]+"");~e;)this.splice(e,1),i=!0,e=s(this,t);while(++o<a)i&&this._updateClassName()},n.toggle=function(e,t){var n=this.contains(e),s=n?!0!==t&&"remove":!1!==t&&"add";return s&&this[s](e),!0===t||!1===t?t:!n},n.replace=function(e,t){var n=s(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},n.toString=function(){return this.join(" ")},o.defineProperty){i={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(r,a,i)}catch(e){0[0]!==e.number&&-2146823252!==e.number||(i.enumerable=!1,o.defineProperty(r,a,i))}}else o[t].__defineGetter__&&r.__defineGetter__(a,d)}}(self),function(){var t,n,e=document.createElement("_");(e.classList.add("c1","c2"),!e.classList.contains("c2"))&&(t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,s=arguments.length;for(n=0;n<s;n++)e=arguments[n],t.call(this,e)}},t("add"),t("remove")),(e.classList.toggle("c3",!1),e.classList.contains("c3"))&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}),"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),s=n.indexOf(e+"");~s&&(n=n.slice(s),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}()),e(2675),e(9463),e(2259),e(5700),e(8706),e(2008),e(3418),e(4423),e(3792),e(2062),e(6910),e(739),e(9572),e(2892),e(9085),e(3851),e(1278),e(9432),e(4864),e(1699),e(7764),e(8344),e(3500),e(2953),e(2712),e(2637),e(1480),e(1761),u=function(){return e=function e(t){var n=t.getOptions,o=t.getCaretPosition,i=t.getCaretPositionEnd,a=t.dispatch;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"getOptions",0[0]),s(this,"getCaretPosition",0[0]),s(this,"getCaretPositionEnd",0[0]),s(this,"dispatch",0[0]),s(this,"maxLengthReached",0[0]),s(this,"isStandardButton",function(e){return e&&("{"!==e[0]||"}"!==e[e.length-1])}),this.getOptions=n,this.getCaretPosition=o,this.getCaretPositionEnd=i,this.dispatch=a,e.bindMethods(e,this)},t=[{key:"getButtonType",value:function(e){return e.includes("{")&&e.includes("}")&&"{//}"!==e?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(e){var t=this.getButtonType(e),s=e.replace("{","").replace("}",""),n="";return"standardBtn"!==t&&(n=" hg-button-".concat(s)),"hg-".concat(t).concat(n)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(e,t){return(t=arguments.length>2&&0[0]!==arguments[2]&&arguments[2]?Object.assign({},this.getDefaultDiplay(),t):t||this.getDefaultDiplay())[e]||e}},{key:"getUpdatedInput",value:function(e,t,n){var a=arguments.length>3&&0[0]!==arguments[3]?arguments[3]:n,r=arguments.length>4&&0[0]!==arguments[4]&&arguments[4],i=this.getOptions(),o=[n,a,r],s=t;return("{bksp}"===e||"{backspace}"===e)&&s.length>0?s=this.removeAt.apply(this,[s].concat(o)):("{delete}"===e||"{forwarddelete}"===e)&&s.length>0?s=this.removeForwardsAt.apply(this,[s].concat(o)):"{space}"===e?s=this.addStringAt.apply(this,[s," "].concat(o)):"{tab}"!==e||"boolean"==typeof i.tabCharOnTab&&!1===i.tabCharOnTab?"{enter}"!==e&&"{numpadenter}"!==e||!i.newLineOnEnter?e.includes("numpad")&&Number.isInteger(Number(e[e.length-2]))?s=this.addStringAt.apply(this,[s,e[e.length-2]].concat(o)):"{numpaddivide}"===e?s=this.addStringAt.apply(this,[s,"/"].concat(o)):"{numpadmultiply}"===e?s=this.addStringAt.apply(this,[s,"*"].concat(o)):"{numpadsubtract}"===e?s=this.addStringAt.apply(this,[s,"-"].concat(o)):"{numpadadd}"===e?s=this.addStringAt.apply(this,[s,"+"].concat(o)):"{numpaddecimal}"===e?s=this.addStringAt.apply(this,[s,"."].concat(o)):"{"===e||"}"===e?s=this.addStringAt.apply(this,[s,e].concat(o)):e.includes("{")||e.includes("}")||(s=this.addStringAt.apply(this,[s,e].concat(o))):s=this.addStringAt.apply(this,[s,`
`].concat(o)):s=this.addStringAt.apply(this,[s,"	"].concat(o)),i.debug&&console.log("Input will be: "+s),s}},{key:"updateCaretPos",value:function(e){var t=arguments.length>1&&0[0]!==arguments[1]&&arguments[1],n=this.updateCaretPosAction(e,t);this.dispatch(function(e){e.setCaretPosition(n)})}},{key:"updateCaretPosAction",value:function(e){var n=arguments.length>1&&0[0]!==arguments[1]&&arguments[1],s=this.getOptions(),t=this.getCaretPosition();return t!=null&&(n?t>0&&(t-=e):t+=e),s.debug&&console.log("Caret at:",t),t}},{key:"addStringAt",value:function(e,t){var n,s=arguments.length>2&&0[0]!==arguments[2]?arguments[2]:e.length,o=arguments.length>3&&0[0]!==arguments[3]?arguments[3]:e.length,i=arguments.length>4&&0[0]!==arguments[4]&&arguments[4];return s||0===s?(n=[e.slice(0,s),t,e.slice(o)].join(""),this.isMaxLengthReached()||i&&this.updateCaretPos(t.length)):n=e+t,n}},{key:"removeAt",value:function(e){var n,i,t=arguments.length>1&&0[0]!==arguments[1]?arguments[1]:e.length,o=arguments.length>2&&0[0]!==arguments[2]?arguments[2]:e.length,s=arguments.length>3&&0[0]!==arguments[3]&&arguments[3];return 0===t&&0===o?e:(t===o?(i=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g,t&&t>=0?e.substring(t-2,t).match(i)?(n=e.substr(0,t-2)+e.substr(t),s&&this.updateCaretPos(2,!0)):(n=e.substr(0,t-1)+e.substr(t),s&&this.updateCaretPos(1,!0)):e.slice(-2).match(i)?(n=e.slice(0,-2),s&&this.updateCaretPos(2,!0)):(n=e.slice(0,-1),s&&this.updateCaretPos(1,!0))):(n=e.slice(0,t)+e.slice(o),s&&this.dispatch(function(e){e.setCaretPosition(t)})),n)}},{key:"removeForwardsAt",value:function(e){var n,t=arguments.length>1&&0[0]!==arguments[1]?arguments[1]:e.length,s=arguments.length>2&&0[0]!==arguments[2]?arguments[2]:e.length,o=arguments.length>3&&0[0]!==arguments[3]&&arguments[3];return e!=null&&e.length&&null!==t?(t===s?n=e.substring(t,t+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?e.substr(0,t)+e.substr(t+2):e.substr(0,t)+e.substr(t+1):(n=e.slice(0,t)+e.slice(s),o&&this.dispatch(function(e){e.setCaretPosition(t)})),n):e}},{key:"handleMaxLength",value:function(e,t){var o,n=this.getOptions(),s=n.maxLength,r=e[n.inputName||"default"],a=t.length-1>=s;if(t.length<=r.length)return!1;if(Number.isInteger(s))return n.debug&&console.log("maxLength (num) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===i(s))return o=t.length-1>=s[n.inputName||"default"],n.debug&&console.log("maxLength (obj) reached:",o),o?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(e){return e?e.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(e,t){return t.length?e+t[0].toUpperCase()+t.slice(1):e}):""}},{key:"chunkArray",value:function(e,t){return S(Array(Math.ceil(e.length/t))).map(function(n,s){return e.slice(t*s,t+t*s)})}},{key:"escapeRegex",value:function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(e,t){var n=e,s=t.indexOf("‫");return s<e&&-1!=s&&n--,t.indexOf("‬")<e&&-1!=s&&n--,n<0?0:n}}],n=[{key:"bindMethods",value:function(e,t){var n,o,s=function(e,t){if(n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var n,s,o,r,i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return s=!0,o=!1,{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}(Object.getOwnPropertyNames(e.prototype));try{for(s.s();!(o=s.n()).done;)n=o.value,"constructor"===n||"bindMethods"===n||(t[n]=t[n].bind(t))}catch(e){s.e(e)}finally{s.f()}}}],t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),s(u,"noop",function(){}),l=u;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function w(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}function m(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n,s=e[Symbol.toPrimitive];if(0[0]!==s){if(n=s.call(e,t||"default"),"object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}v=function(){return e=function e(t){var n=this,s=t.dispatch,o=t.getOptions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"getOptions",0[0]),m(this,"dispatch",0[0]),m(this,"isModifierKey",function(e){return e.altKey||e.ctrlKey||e.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.code||e.key||n.keyCodeToKey(e?.keyCode))}),this.dispatch=s,this.getOptions=o,l.bindMethods(e,this)},(t=[{key:"handleHighlightKeyDown",value:function(e){var n,t=this.getOptions();t.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(e)&&(e.preventDefault(),e.stopImmediatePropagation()),n=this.getSimpleKeyboardLayoutKey(e),this.dispatch(function(s){var o,i,a,r,c,l,d,u,h=s.getButtonElement(n),m=s.getButtonElement("{".concat(n,"}"));if(h)o=h,i=n;else{if(!m)return;o=m,i="{".concat(n,"}")}d=function(e){e.style.background=t.physicalKeyboardHighlightBgColor||"#dadce4",e.style.color=t.physicalKeyboardHighlightTextColor||"black"},o&&(Array.isArray(o)?(o.forEach(function(e){return d(e)}),t.physicalKeyboardHighlightPress)&&(t.physicalKeyboardHighlightPressUsePointerEvents?null===(a=o[0])||0[0]===a||null===(c=a.onpointerdown)||0[0]===c||c.call(a,e):t.physicalKeyboardHighlightPressUseClick?null===(u=o[0])||0[0]===u||u.click():s.handleButtonClicked(i,e)):(d(o),t.physicalKeyboardHighlightPress&&(t.physicalKeyboardHighlightPressUsePointerEvents?null===(r=o)||0[0]===r||null===(l=r.onpointerdown)||0[0]===l||l.call(r,e):t.physicalKeyboardHighlightPressUseClick?o.click():s.handleButtonClicked(i,e))))})}},{key:"handleHighlightKeyUp",value:function(e){var n,t=this.getOptions();t.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(e)&&(e.preventDefault(),e.stopImmediatePropagation()),n=this.getSimpleKeyboardLayoutKey(e),this.dispatch(function(s){var i,a,r,o=s.getButtonElement(n)||s.getButtonElement("{".concat(n,"}")),c=function(e){e.removeAttribute&&e.removeAttribute("style")};o&&(Array.isArray(o)?(o.forEach(function(e){return c(e)}),t.physicalKeyboardHighlightPressUsePointerEvents&&(null===(i=o[0])||0[0]===i||null===(a=i.onpointerup)||0[0]===a||a.call(i,e))):(c(o),t.physicalKeyboardHighlightPressUsePointerEvents&&(o==null||null===(r=o.onpointerup)||0[0]===r||r.call(o,e))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(e){var n,s="",t=e.code||e.key||this.keyCodeToKey(e?.keyCode);return(s=t!=null&&t.includes("Numpad")||t!=null&&t.includes("Shift")||t!=null&&t.includes("Space")||t!=null&&t.includes("Backspace")||t!=null&&t.includes("Control")||t!=null&&t.includes("Alt")||t!=null&&t.includes("Meta")?e.code||"":e.key||this.keyCodeToKey(e?.keyCode)||"").length>1?null===(n=s)||0[0]===n?0[0]:n.toLowerCase():s}},{key:"keyCodeToKey",value:function(e){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[e]||""}}])&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function O(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}function r(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n,s=e[Symbol.toPrimitive];if(0[0]!==s){if(n=s.call(e,t||"default"),"object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}y=function(){return e=function e(t){var n=t.utilities,s=t.options;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"utilities",0[0]),r(this,"options",0[0]),r(this,"candidateBoxElement",0[0]),r(this,"pageIndex",0),r(this,"pageSize",0[0]),this.utilities=n,this.options=s,l.bindMethods(e,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},t=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(e){var n,s=this,t=e.candidateValue,o=e.targetElement,i=e.onSelect;t&&t.length&&(n=this.utilities.chunkArray(t.split(" "),this.pageSize),this.renderPage({candidateListPages:n,targetElement:o,pageIndex:this.pageIndex,nbPages:n.length,onItemSelected:function(e,t){i(e,t),s.destroy()}}))}},{key:"renderPage",value:function(e){var t,n,a,c,l,u,h,f,o=this,m=e.candidateListPages,d=e.targetElement,s=e.pageIndex,r=e.nbPages,i=e.onItemSelected;null===(c=this.candidateBoxElement)||0[0]===c||c.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box",a=document.createElement("ul"),a.className="hg-candidate-box-list",m[s].forEach(function(e){var n,t=document.createElement("li"),s=function(){var e=new(o.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(e,"target",{value:t}),e};t.className="hg-candidate-box-list-item",t.innerHTML=(null===(n=o.options.display)||0[0]===n?0[0]:n[e])||e,o.options.useTouchEvents?t.ontouchstart=function(t){return i(e,t||s())}:t.onclick=function(){var t=arguments.length>0&&0[0]!==arguments[0]?arguments[0]:s();return i(e,t)},a.appendChild(t)}),l=s>0,n=document.createElement("div"),n.classList.add("hg-candidate-box-prev"),l&&n.classList.add("hg-candidate-box-btn-active"),u=function(){l&&o.renderPage({candidateListPages:m,targetElement:d,pageIndex:s-1,nbPages:r,onItemSelected:i})},this.options.useTouchEvents?n.ontouchstart=u:n.onclick=u,this.candidateBoxElement.appendChild(n),this.candidateBoxElement.appendChild(a),h=s<r-1,t=document.createElement("div"),t.classList.add("hg-candidate-box-next"),h&&t.classList.add("hg-candidate-box-btn-active"),f=function(){h&&o.renderPage({candidateListPages:m,targetElement:d,pageIndex:s+1,nbPages:r,onItemSelected:i})},this.options.useTouchEvents?t.ontouchstart=f:t.onclick=f,this.candidateBoxElement.appendChild(t),d.prepend(this.candidateBoxElement)}}],t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),h=y;function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):0[0]}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function C(e,t){var n,s=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)),s}function E(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}function n(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n,s=e[Symbol.toPrimitive];if(0[0]!==s){if(n=s.call(e,t||"default"),"object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var l,u,h,v,y,_=function(){return e=function e(t,s){if(o=this,function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"input",0[0]),n(this,"options",0[0]),n(this,"utilities",0[0]),n(this,"caretPosition",0[0]),n(this,"caretPositionEnd",0[0]),n(this,"keyboardDOM",0[0]),n(this,"keyboardPluginClasses",0[0]),n(this,"keyboardDOMClass",0[0]),n(this,"buttonElements",0[0]),n(this,"currentInstanceName",0[0]),n(this,"allKeyboardInstances",0[0]),n(this,"keyboardInstanceNames",0[0]),n(this,"isFirstKeyboardInstance",0[0]),n(this,"physicalKeyboard",0[0]),n(this,"modules",0[0]),n(this,"activeButtonClass",0[0]),n(this,"holdInteractionTimeout",0[0]),n(this,"holdTimeout",0[0]),n(this,"isMouseHold",0[0]),n(this,"initialized",0[0]),n(this,"candidateBox",0[0]),n(this,"keyboardRowsDOM",0[0]),n(this,"defaultName","default"),n(this,"activeInputElement",null),n(this,"handleParams",function(e,t){var n,s,o;if("string"==typeof e)n=e.split(".").join(""),s=document.querySelector(".".concat(n)),o=t;else if(e instanceof HTMLDivElement){if(!e.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");n=e.className.split(" ")[0],s=e,o=t}else n="simple-keyboard",s=document.querySelector(".".concat(n)),o=e;return{keyboardDOMClass:n,keyboardDOM:s,options:o}}),n(this,"getOptions",function(){return o.options}),n(this,"getCaretPosition",function(){return o.caretPosition}),n(this,"getCaretPositionEnd",function(){return o.caretPositionEnd}),n(this,"registerModule",function(e,t){o.modules[e]||(o.modules[e]={}),t(o.modules[e])}),n(this,"getKeyboardClassString",function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return[o.keyboardDOMClass].concat(n).filter(function(e){return!!e}).join(" ")}),"undefined"!=typeof window){var o,a,d,i=this.handleParams(t,s),r=i.keyboardDOMClass,u=i.keyboardDOM,c=i.options,m=0[0]===c?{}:c;if(this.utilities=new l({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=u,this.options=function(e){for(var t,s=1;s<arguments.length;s++)t=null!=arguments[s]?arguments[s]:{},s%2?C(Object(t),!0).forEach(function(s){n(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},m),this.keyboardPluginClasses="",l.bindMethods(e,this),a=this.options.inputName,d=0[0]===a?this.defaultName:a,this.input={},this.input[d]="",this.keyboardDOMClass=r,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new v({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new h({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(r,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},t=[{key:"setCaretPosition",value:function(e){var t=arguments.length>1&&0[0]!==arguments[1]?arguments[1]:e;this.caretPosition=e,this.caretPositionEnd=t}},{key:"getInputCandidates",value:function(e){var n,s,i,a=this,r=this.options,t=r.layoutCandidates,c=r.layoutCandidatesCaseSensitiveMatch;return!t||"object"!==o(t)?{}:(n=Object.keys(t).filter(function(t){var n=e.substring(0,a.getCaretPositionEnd()||0)||e,s=new RegExp("".concat(a.utilities.escapeRegex(t),"$"),c?"g":"gi");return!!d(n.matchAll(s)).length}),n.length>1?(s=n.sort(function(e,t){return t.length-e.length})[0],{candidateKey:s,candidateValue:t[s]}):n.length?(i=n[0],{candidateKey:i,candidateValue:t[i]}):{})}},{key:"showCandidatesBox",value:function(e,t,n){var s=this;this.candidateBox&&this.candidateBox.show({candidateValue:t,targetElement:n,onSelect:function(t,n){var a=s.options,g=a.layoutCandidatesCaseSensitiveMatch,m=a.disableCandidateNormalization,u=a.enableLayoutCandidatesKeyPress,l=t;m||(l=t.normalize("NFD"));var o=s.getInput(s.options.inputName,!0),d=s.getCaretPositionEnd()||0,r=o.substring(0,d||0)||o,h=new RegExp("".concat(s.utilities.escapeRegex(e),"$"),g?"g":"gi"),c=r.replace(h,l),f=o.replace(r,c),p=c.length-r.length,i=(d||o.length)+p;i<0&&(i=0),s.setInput(f,s.options.inputName,!0),s.setCaretPosition(i),u&&"function"==typeof s.options.onKeyPress&&s.options.onKeyPress(t,n),"function"==typeof s.options.onChange&&s.options.onChange(s.getInput(s.options.inputName,!0),n),"function"==typeof s.options.onChangeAll&&s.options.onChangeAll(s.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(e,t){var s,c,i=this.options,a=i.inputName,n=0[0]===a?this.defaultName:a,r=i.debug;if("{//}"!==e){if(this.input[n]||(this.input[n]=""),s=this.utilities.getUpdatedInput(e,this.input[n],this.caretPosition,this.caretPositionEnd),this.utilities.isStandardButton(e)&&this.activeInputElement&&this.input[n]&&this.input[n]===s&&0===this.caretPosition&&this.caretPositionEnd===s.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(e,t);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(e,t),this.input[n]!==s&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(s))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,s))return;if(c=this.utilities.getUpdatedInput(e,this.input[n],this.caretPosition,this.caretPositionEnd,!0),this.setInput(c,this.options.inputName,!0),r&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),t?.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),t),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),t),t!=null&&t.target&&this.options.enableLayoutCandidates){var o,l=this.getInputCandidates(s),d=l.candidateKey,u=l.candidateValue;d&&u?this.showCandidatesBox(d,u,this.keyboardDOM):null===(o=this.candidateBox)||0[0]===o||o.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),r&&console.log("Key pressed:",e)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(e){this.options.syncInstanceInputs?this.dispatch(function(t){t.isMouseHold=e}):this.isMouseHold=e}},{key:"handleButtonMouseDown",value:function(e,t){var n=this;t&&(this.options.preventMouseDownDefault&&t.preventDefault(),this.options.stopMouseDownPropagation&&t.stopPropagation(),t.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(n.getMouseHold()&&(!e.includes("{")&&!e.includes("}")||"{delete}"===e||"{backspace}"===e||"{bksp}"===e||"{space}"===e||"{tab}"===e)||"{arrowright}"===e||"{arrowleft}"===e||"{arrowup}"===e||"{arrowdown}"===e)&&(n.options.debug&&console.log("Button held:",e),n.handleButtonHold(e)),clearTimeout(n.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(e,t){var n=this;t&&(this.options.preventMouseUpDefault&&t.preventDefault&&t.preventDefault(),this.options.stopMouseUpPropagation&&t.stopPropagation&&t.stopPropagation(),!(t.target===this.keyboardDOM||t.target&&this.keyboardDOM.contains(t.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(t.target===this.candidateBox.candidateBoxElement||t.target&&this.candidateBox.candidateBoxElement.contains(t.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(e){e.classList.remove(n.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),e&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(e,t)}},{key:"handleKeyboardContainerMouseDown",value:function(e){this.options.preventMouseDownDefault&&e.preventDefault()}},{key:"handleButtonHold",value:function(e){var t=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){t.getMouseHold()?(t.handleButtonClicked(e),t.handleButtonHold(e)):clearTimeout(t.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var e=this;this.dispatch(function(t){t.replaceInput(e.input),t.setCaretPosition(e.caretPosition,e.caretPositionEnd)})}},{key:"clearInput",value:function(){var e=arguments.length>0&&0[0]!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;this.input[e]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var e=arguments.length>0&&0[0]!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName,t=arguments.length>1&&0[0]!==arguments[1]&&arguments[1];return this.options.syncInstanceInputs&&!t&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[e].replace("‫","").replace("‬","")+"‬":this.input[e]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach(function(n){e[n]=t.getInput(n,!0)}),e}},{key:"setInput",value:function(e){var t=arguments.length>1&&0[0]!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName,n=arguments.length>2?arguments[2]:0[0];this.input[t]=e,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(e){this.input=e}},{key:"setOptions",value:function(){var t=arguments.length>0&&0[0]!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render())}},{key:"changedOptions",value:function(e){var t=this;return Object.keys(e).filter(function(n){return JSON.stringify(e[n])!==JSON.stringify(t.options[n])})}},{key:"onSetOptions",value:function(){var e=arguments.length>0&&0[0]!==arguments[0]?arguments[0]:[];e.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(e.includes("layoutCandidatesPageSize")||e.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new h({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(e){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(t){e(window.SimpleKeyboardInstances[t],t)})}},{key:"addButtonTheme",value:function(e,t){var n=this;t&&e&&(e.split(" ").forEach(function(s){t.split(" ").forEach(function(t){n.options.buttonTheme||(n.options.buttonTheme=[]);var o=!1;n.options.buttonTheme.map(function(e){if(e!=null&&e.class.split(" ").includes(t)){o=!0;var n=e.buttons.split(" ");n.includes(s)||(o=!0,n.push(s),e.buttons=n.join(" "))}return e}),o||n.options.buttonTheme.push({class:t,buttons:e})})}),this.render())}},{key:"removeButtonTheme",value:function(e,t){var n=this;if(!e&&!t)return this.options.buttonTheme=[],void this.render();e&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(e.split(" ").forEach(function(e){var s;null===(s=n.options)||0[0]===s||null===(s=s.buttonTheme)||0[0]===s||s.map(function(s,o){if(s&&t&&t.includes(s.class)||!t){var i,a,r=null===(i=s)||0[0]===i?0[0]:i.buttons.split(" ").filter(function(t){return t!==e});s&&r!=null&&r.length?s.buttons=r.join(" "):(null===(a=n.options.buttonTheme)||0[0]===a||a.splice(o,1),s=null)}return s})}),this.render())}},{key:"getButtonElement",value:function(e){var n,t=this.buttonElements[e];return t&&(n=t.length>1?t:t[0]),n}},{key:"inputPatternIsValid",value:function(e){var t,s,n=this.options.inputPattern;return!(t=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])||!e||(s=t.test(e),this.options.debug&&console.log('inputPattern ("'.concat(t,'"): ').concat(s?"passed":"did not pass!")),s)}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var e=this.options.physicalKeyboardHighlightPreventDefault,t=0[0]!==e&&e;document.addEventListener("keyup",this.handleKeyUp,t),document.addEventListener("keydown",this.handleKeyDown,t),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(e){this.caretEventHandler(e),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(e)}},{key:"handleKeyDown",value:function(e){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(e)}},{key:"handleMouseUp",value:function(e){this.caretEventHandler(e)}},{key:"handleTouchEnd",value:function(e){this.caretEventHandler(e)}},{key:"handleSelect",value:function(e){this.caretEventHandler(e)}},{key:"handleSelectionChange",value:function(e){navigator.userAgent.includes("Firefox")||this.caretEventHandler(e)}},{key:"caretEventHandler",value:function(e){var t,n=this;e.target.tagName&&(t=e.target.tagName.toLowerCase()),this.dispatch(function(s){if(o=e.target===s.keyboardDOM||e.target&&s.keyboardDOM.contains(e.target),n.options.syncInstanceInputs&&Array.isArray(e.path)&&(o=e.path.some(function(e){var t;return e==null||null===(t=e.hasAttribute)||0[0]===t?0[0]:t.call(e,"data-skInstance")})),("textarea"===t||"input"===t&&["text","search","url","tel","password"].includes(e.target.type))&&!s.options.disableCaretPositioning){var o,i=e.target.selectionStart,a=e.target.selectionEnd;s.options.rtl&&(i=s.utilities.getRtlOffset(i,s.getInput()),a=s.utilities.getRtlOffset(a,s.getInput())),s.setCaretPosition(i,a),n.activeInputElement=e.target,s.options.debug&&console.log("Caret at: ",s.getCaretPosition(),s.getCaretPositionEnd(),e&&e.target.tagName.toLowerCase(),"(".concat(s.keyboardDOMClass,")"),e?.type)}else!s.options.disableCaretPositioning&&o||"selectionchange"===e?.type||(s.setCaretPosition(null),n.activeInputElement=null,s.options.debug&&console.log('Caret position reset due to "'.concat(e?.type,'" event'),e))})}},{key:"recurseButtons",value:function(e){var t=this;e&&Object.keys(this.buttonElements).forEach(function(n){return t.buttonElements[n].forEach(e)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var e=this.options.physicalKeyboardHighlightPreventDefault,t=0[0]!==e&&e;document.removeEventListener("keyup",this.handleKeyUp,t),document.removeEventListener("keydown",this.handleKeyDown,t),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(e){e&&(e.onpointerdown=null,e.onpointerup=null,e.onpointercancel=null,e.ontouchstart=null,e.ontouchend=null,e.ontouchcancel=null,e.onclick=null,e.onmousedown=null,e.onmouseup=null,e.remove(),e=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(e){var n=this.options.buttonTheme,t=[];return Array.isArray(n)&&n.forEach(function(n){if(n&&n.class&&"string"==typeof n.class&&n.buttons&&"string"==typeof n.buttons){var s=n.class.split(" ");n.buttons.split(" ").includes(e)&&(t=[].concat(d(t),d(s)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',n)}),t}},{key:"setDOMButtonAttributes",value:function(e,t){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach(function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value&&n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(e)&&t(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(e){if(e.target.classList.contains("hg-button"))return e.preventDefault(),e.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var e=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(t){var n=new t(e);n.init&&n.init(e)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(e,t){return!!this.modules[e]&&this.modules[e][t]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(e,t,n,s){var a=this,o=Array.from(e.children),i=0;return o.length&&n.forEach(function(n,r){if(l=s[r],!(l&&l>n))return!1;var l,h,m,c=n-i,u=l-i,d=document.createElement("div");d.className+="hg-button-container",m="".concat(a.options.layoutName,"-r").concat(t,"c").concat(r),d.setAttribute("data-skUID",m),h=o.splice(c,u-c+1),i=u-c,h.forEach(function(e){return d.appendChild(e)}),o.splice(c,0,d),e.innerHTML="",o.forEach(function(t){return e.appendChild(t)}),a.options.debug&&console.log("rowDOMContainer",h,c,u,i+1)}),e}},{key:"render",value:function(){e=this,this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e,o="hg-layout-".concat(this.options.layoutName),i=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},t=this.options.useTouchEvents||!1,a=t?"hg-touch-events":"",n=this.options.useMouseEvents||!1,s=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,o,this.keyboardPluginClasses,a),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",i[this.options.layoutName||this.defaultName].forEach(function(o,i){r=o.split(" "),e.options.excludeFromLayout&&e.options.excludeFromLayout[e.options.layoutName||e.defaultName]&&(r=r.filter(function(t){return e.options.excludeFromLayout&&!e.options.excludeFromLayout[e.options.layoutName||e.defaultName].includes(t)})),a=document.createElement("div"),a.className+="hg-row";var a,r,c=[],l=[];r.forEach(function(o,r){f=!s&&"string"==typeof o&&o.length>1&&0===o.indexOf("["),p=!s&&"string"==typeof o&&o.length>1&&o.indexOf("]")===o.length-1,f&&(c.push(r),o=o.replace(/\[/g,"")),p&&(l.push(r),o=o.replace(/\]/g,""));var h,m,f,p,g,v=e.utilities.getButtonClass(o),b=e.utilities.getButtonDisplayName(o,e.options.display,e.options.mergeDisplay),j=e.options.useButtonTag?"button":"div",u=document.createElement(j);u.className+="hg-button ".concat(v),(m=u.classList).add.apply(m,d(e.getButtonThemeClasses(o))),e.setDOMButtonAttributes(o,function(e,t){u.setAttribute(e,t)}),e.activeButtonClass="hg-activeButton",!e.utilities.pointerEventsSupported()||t||n?t?(u.ontouchstart=function(t){e.handleButtonClicked(o,t),e.handleButtonMouseDown(o,t)},u.ontouchend=function(t){e.handleButtonMouseUp(o,t)},u.ontouchcancel=function(t){e.handleButtonMouseUp(o,t)}):(u.onclick=function(t){e.setMouseHold(!1),"function"!=typeof e.options.onKeyReleased&&e.handleButtonClicked(o,t)},u.onmousedown=function(t){"function"!=typeof e.options.onKeyReleased||e.isMouseHold||e.handleButtonClicked(o,t),e.handleButtonMouseDown(o,t)},u.onmouseup=function(t){e.handleButtonMouseUp(o,t)}):(u.onpointerdown=function(t){e.handleButtonClicked(o,t),e.handleButtonMouseDown(o,t)},u.onpointerup=function(t){e.handleButtonMouseUp(o,t)},u.onpointercancel=function(t){e.handleButtonMouseUp(o,t)}),u.setAttribute("data-skBtn",o),g="".concat(e.options.layoutName,"-r").concat(i,"b").concat(r),u.setAttribute("data-skBtnUID",g),h=document.createElement("span"),h.innerHTML=b,u.appendChild(h),e.buttonElements[o]||(e.buttonElements[o]=[]),e.buttonElements[o].push(u),a.appendChild(u)}),a=e.parseRowDOMContainers(a,i,c,l),e.keyboardRowsDOM.appendChild(a)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||t||n?t?(document.ontouchend=function(t){return e.handleButtonMouseUp(0[0],t)},document.ontouchcancel=function(t){return e.handleButtonMouseUp(0[0],t)},this.keyboardDOM.ontouchstart=function(t){return e.handleKeyboardContainerMouseDown(t)}):t||(document.onmouseup=function(t){return e.handleButtonMouseUp(0[0],t)},this.keyboardDOM.onmousedown=function(t){return e.handleKeyboardContainerMouseDown(t)}):(document.onpointerup=function(t){return e.handleButtonMouseUp(0[0],t)},this.keyboardDOM.onpointerdown=function(t){return e.handleKeyboardContainerMouseDown(t)}),this.onInit())}}],t&&E(e.prototype,t),s&&E(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,s}(),M=_,F=_}(),t}();class t1{constructor(){this.children=new Map,this.isEnd=!1}getFirstBranch(){return function(e){let t="";for(;!e.isEnd;){const n=e.children.keys().next().value;t+=n,e=e.children.get(n)}return t}(this)}getSuffixes(){const e=[];return function t(n,s){n.isEnd&&e.push(s);for(const[e,o]of n.children.entries())t(o,s+e)}(this,""),e}}class e1{constructor(){this.root=new t1}set(e){let t=this.root;for(let n=0;n<e.length;n++){const s=e[n];t.children.has(s)||t.children.set(s,new t1),t=t.children.get(s)}t.isEnd=!0}get(e){let t=this.root;for(let n=0;n<e.length;n++){const s=e[n];if(!t.children.has(s))return null;t=t.children.get(s)}return t}}class i{get inputedHiragana(){let e="";for(let t=0;t<this.laticeIndex;t++)e+=this.latice[t].hiragana;if(e.endsWith("っ")){const t=this.inputedRomaji.match(i.hatsuonRegexp)[0].length;e=e.replace(i.hatsuonRegexp,"っ".repeat(t-1))}return e}get remainedRomaji(){const e=this.currentNode;return(e?e.getFirstBranch():"")+this.latice.slice(this.laticeIndex+1).map(e=>e.root.getFirstBranch()).join("")}get remainedHiragana(){return this.hiragana.slice(this.inputedHiragana.length)}constructor(e,t={}){this.hiragana=e,this.options=t||{},this.options.shortSokuon=t.shortSokuon??!0,this.options.shortHatsuon=t.shortHatsuon??!0,this.latice=this.toLatice(e),this.laticeIndex=0,this.currentNode=this.latice[0].root,this.inputedRomaji=""}toLatice(e){const t=[];return e.match(i.wordRegexp).forEach(e=>{if(e.match(i.hiraganaRegexp)){const n=this.toHiraganaLatice(e);t.push(...n)}else{const n=this.toAsciiLatice(e);t.push(...n)}}),t}toAsciiLatice(e){const t=[];return Array.from(e).forEach(e=>{const n=new e1;n.set(e),t.push(n)}),t}toHiraganaLatice(e){const t=[],n=e.match(i.segmentRegexp);for(const e of n){const s=e.lastIndexOf("っ");if(e.length>1&&s>=0){const n=e.slice(s+1);if(this.options.shortSokuon&&n.length>0){const e=new e1;e.hiragana=n,this.getRomajiPattern(n).forEach(t=>{e.set(t)});const o=Array.from(e.root.children.keys());for(let a=0;a<=s;a++){const e=new e1;e.hiragana="っ",n[0].match(i.nagyoRegexp)||o.forEach(t=>{e.set(t)}),this.getRomajiPattern("っ").forEach(t=>{e.set(t)}),t.push(e)}t.push(e)}else for(let n=0;n<=s;n++){const e=new e1;e.hiragana="っ",this.getRomajiPattern("っ").forEach(t=>{e.set(t)}),t.push(e)}}else{const n=new e1;n.hiragana=e,this.getRomajiPattern(e).forEach(e=>{n.set(e)}),t.push(n)}}return t}input(e){if(!this.currentNode)return!1;const t=this.currentNode.children.get(e);if(t)return t.isEnd?(this.laticeIndex+=1,this.laticeIndex>=this.latice.length?this.currentNode=null:this.currentNode=this.latice[this.laticeIndex].root):this.currentNode=t,this.inputedRomaji+=e,!0;switch(this.latice[this.laticeIndex].hiragana){case"ん":{if(!this.options.shortHatsuon)return!1;if(!this.inputedRomaji.at(-1).match(/[xn]/))return!1;if(e.match(/[aiueoy]/))return!1;if(this.laticeIndex+1>=this.latice.length)return!1;const t=this.latice[this.laticeIndex+1].root.children.get(e);return!!t&&(this.laticeIndex+=1,this.currentNode=t,this.inputedRomaji+=e,!0)}case"っ":{if(!this.options.shortSokuon)return!1;if(this.inputedRomaji.at(-1)!==e)return!1;if(e.match(/[aiueon]/))return!1;if(this.laticeIndex+1>=this.latice.length)return!1;const t=this.latice[this.laticeIndex+1].root.children.get(e);return!!t&&(this.laticeIndex+=1,this.currentNode=t,this.inputedRomaji+=e,!0)}}return!1}isEnd(){return!this.currentNode}getCombinations(e,t=[]){if(t.length===e.length)return[t.join("")];const n=[];for(const s of e[t.length])n.push(...this.getCombinations(e,[...t,s]));return n}get2gramPattern(e){const s=i.table[e[0]],n=i.table[e[1]],t=this.getCombinations([s,n]);if("っ"===e[0]){if(i.nagyoRegexp.test(e[1]))return t;{const e=n.map(e=>e[0]+e);return e.push(...t),e}}{const n=i.table[e]||[];return n.push(...t),n}}get3gramPattern(e){const s=i.table[e[0]],o=i.table[e[1]],a=i.table[e[2]],t=i.table[e.slice(1)],n=t?this.getCombinations([s,t]):[],r=this.getCombinations([s,o,a]);if(i.nagyoRegexp.test(e[1]))return n.push(...r),n;{const e=t?t.map(e=>e[0]+e):[],s=o.map(e=>e[0]+e),i=this.getCombinations([s,a]);return e.push(...i),e.push(...n),e.push(...r),e}}getRomajiPattern(e){switch(e.length){case 1:return i.table[e];case 2:return this.get2gramPattern(e);case 3:return this.get3gramPattern(e);default:throw new Error("parse error")}}}Object.defineProperty(i,"wordRegexp",{enumerable:!0,configurable:!0,writable:!0,value:/([ぁ-ゖー]+|[ -~]+)/g}),Object.defineProperty(i,"hiraganaRegexp",{enumerable:!0,configurable:!0,writable:!0,value:/[ぁ-ゖー]+/g}),Object.defineProperty(i,"segmentRegexp",{enumerable:!0,configurable:!0,writable:!0,value:/っ*[ぁ-ゖー][ぁぃぅぇぉゃゅょ]?/g}),Object.defineProperty(i,"nagyoRegexp",{enumerable:!0,configurable:!0,writable:!0,value:/[なにぬねのん]/}),Object.defineProperty(i,"hatsuonRegexp",{enumerable:!0,configurable:!0,writable:!0,value:/(.)\1*$/}),Object.defineProperty(i,"table",{enumerable:!0,configurable:!0,writable:!0,value:{"ー":["-"],"いぇ":["ye"],"うぁ":["wha"],"うぃ":["wi","whi"],"うぇ":["we","whe"],"うぉ":["who"],"ゔぁ":["va"],"ゔぃ":["vi","vyi"],"ゔぇ":["ve","vye"],"ゔぉ":["vo"],"ゔゃ":["vya"],"ゔゅ":["vyu"],"ゔょ":["vyo"],"きゃ":["kya"],"きぃ":["kyi"],"きゅ":["kyu"],"きぇ":["kye"],"きょ":["kyo"],"ぎゃ":["gya"],"ぎぃ":["gyi"],"ぎゅ":["gyu"],"ぎぇ":["gye"],"ぎょ":["gyo"],"くぁ":["kwa","qa"],"くぃ":["kwi","qi"],"くぅ":["kwu"],"くぇ":["kwe","qe"],"くぉ":["kwo","qo"],"くゃ":["qya"],"くゅ":["qyu"],"くょ":["qyo"],"ぐぁ":["gwa"],"ぐぃ":["gwi"],"ぐぅ":["gwu"],"ぐぇ":["gwe"],"ぐぉ":["gwo"],"しゃ":["sha","sya"],"しぃ":["syi"],"しゅ":["shu","syu"],"しぇ":["she","sye"],"しょ":["sho","syo"],"じゃ":["ja","jya","zya"],"じぃ":["jyi","zyi"],"じゅ":["ju","jyu","zyu"],"じぇ":["je","jye","zye"],"じょ":["jo","jyo","zyo"],"すぁ":["swa"],"すぃ":["swi"],"すぅ":["swu"],"すぇ":["swe"],"すぉ":["swo"],"ちゃ":["cha","cya","tya"],"ちぃ":["cyi","tyi"],"ちゅ":["chu","cyu","tyu"],"ちぇ":["che","cye","tye"],"ちょ":["cho","cyo","tyo"],"ぢゃ":["dya"],"ぢぃ":["dyi"],"ぢゅ":["dyu"],"ぢぇ":["dye"],"ぢょ":["dyo"],"つぁ":["tsa"],"つぃ":["tsi"],"つぇ":["tse"],"つぉ":["tso"],"てゃ":["tha"],"てぃ":["thi"],"てゅ":["thu"],"てぇ":["the"],"てょ":["tho"],"でゃ":["dha"],"でぃ":["dhi"],"でゅ":["dhu"],"でぇ":["dhe"],"でょ":["dho"],"とぁ":["twa"],"とぃ":["twi"],"とぅ":["twu"],"とぇ":["twe"],"とぉ":["two"],"どぁ":["dwa"],"どぃ":["dwi"],"どぅ":["dwu"],"どぇ":["dwe"],"どぉ":["dwo"],"にゃ":["nya"],"にぃ":["nyi"],"にゅ":["nyu"],"にぇ":["nye"],"にょ":["nyo"],"ひゃ":["hya"],"ひぃ":["hyi"],"ひゅ":["hyu"],"ひぇ":["hye"],"ひょ":["hyo"],"びゃ":["bya"],"びぃ":["byi"],"びゅ":["byu"],"びぇ":["bye"],"びょ":["byo"],"ぴゃ":["pya"],"ぴぃ":["pyi"],"ぴゅ":["pyu"],"ぴぇ":["pye"],"ぴょ":["pyo"],"ふぁ":["fa","fwa","hwa"],"ふぃ":["fi","fwi","fyi","hwi"],"ふぅ":["fwu"],"ふぇ":["fe","fwe","fye","hwe"],"ふぉ":["fo","fwo","hwo"],"ふゃ":["fya"],"ふゅ":["fyu"],"ふょ":["fyo"],"みゃ":["mya"],"みぃ":["myi"],"みゅ":["myu"],"みぇ":["mye"],"みょ":["myo"],"りゃ":["rya"],"りぃ":["ryi"],"りゅ":["ryu"],"りぇ":["rye"],"りょ":["ryo"],"あ":["a"],"い":["i"],"う":["u","whu","wu"],"え":["e"],"お":["o"],"か":["ka","ca"],"き":["ki"],"く":["ku","cu","qu"],"け":["ke"],"こ":["ko","co"],"さ":["sa"],"し":["shi","si","ci"],"す":["su"],"せ":["se","ce"],"そ":["so"],"た":["ta"],"ち":["chi","ti"],"つ":["tsu","tu"],"て":["te"],"と":["to"],"な":["na"],"に":["ni"],"ぬ":["nu"],"ね":["ne"],"の":["no"],"は":["ha"],"ひ":["hi"],"ふ":["fu","hu"],"へ":["he"],"ほ":["ho"],"ま":["ma"],"み":["mi"],"む":["mu"],"め":["me"],"も":["mo"],"や":["ya"],"ゆ":["yu"],"よ":["yo"],"ら":["ra"],"り":["ri"],"る":["ru"],"れ":["re"],"ろ":["ro"],"わ":["wa"],"を":["wo"],"ん":["nn","xn"],"ぁ":["xa","la"],"ぃ":["xi","li","xyi","lyi"],"ぅ":["xu","lu"],"ぇ":["xe","le","xye","lye"],"ぉ":["xo","lo"],"ゃ":["xya","lya"],"ゅ":["xyu","lyu"],"ょ":["xyo","lyo"],"ゕ":["xka","lka"],"ゖ":["xke","lke"],"っ":["xtu","xtsu","ltu","ltsu"],"ゎ":["xwa","lwa"],"が":["ga"],"ぎ":["gi"],"ぐ":["gu"],"げ":["ge"],"ご":["go"],"ざ":["za"],"じ":["ji","zi"],"ず":["zu"],"ぜ":["ze"],"ぞ":["zo"],"だ":["da"],"ぢ":["di"],"づ":["du"],"で":["de"],"ど":["do"],"ば":["ba"],"び":["bi"],"ぶ":["bu"],"べ":["be"],"ぼ":["bo"],"ぱ":["pa"],"ぴ":["pi"],"ぷ":["pu"],"ぺ":["pe"],"ぽ":["po"],"ゐ":["wyi"],"ゑ":["wye"],"ゔ":["vu"]}}),document.getElementById("gamePanel").appendChild(document.getElementById("gamePanelTemplate").content);const remSize=parseInt(getComputedStyle(document.documentElement).fontSize),gamePanel=document.getElementById("gamePanel"),infoPanel=document.getElementById("infoPanel"),countPanel=document.getElementById("countPanel"),scorePanel=document.getElementById("scorePanel"),startButton=document.getElementById("startButton"),romaNode=document.getElementById("roma"),originalTextNode=document.getElementById("originalText"),translatedTextNode=document.getElementById("translatedText"),aa=document.getElementById("aa"),gameTime=60,tmpCanvas=document.createElement("canvas"),mode=document.getElementById("mode"),categories=[...document.getElementById("courseOption").options].map(e=>e.value.toLowerCase()),htmlLang=document.documentElement.lang,ttsLang=getTTSLang(htmlLang);let playing,countdowning,typeTimer;const bgm=new Audio("/emoji-typing/mp3/bgm.mp3");bgm.volume=.4,bgm.loop=!0;let errorCount=0,normalCount=0,solveCount=0,guide=!0;const problems={};let problem;const layout104={default:["{esc} ` 1 2 3 4 5 6 7 8 9 0 -","{tab} q w e r t y u i o p [ ]","{lock} a s d f g h j k l ;","{shift} z x c v b n m , .","🌏 {altLeft} {space} {altRight}"],shift:["{esc} ~ ! @ # $ % ^ & * ( ) _","{tab} Q W E R T Y U I O P { }","{lock} A S D F G H J K L :","{shift} Z X C V B N M < >","🌏 {altLeft} {space} {altRight}"]},layout109={default:["{esc} 1 2 3 4 5 6 7 8 9 0 -","{tab} q w e r t y u i o p","{lock} a s d f g h j k l ;","{shift} z x c v b n m , .","🌏 無変換 {space} 変換"],shift:[`{esc} ! " # $ % & ' ( ) =`,"{tab} Q W E R T Y U I O P","{lock} A S D F G H J K L +","{shift} Z X C V B N M < >","🌏 無変換 {space} 変換"]},keyboardDisplay={"{esc}":"Esc","{tab}":"Tab","{lock}":"Caps","{shift}":"Shift","{space}":" ","{altLeft}":"Alt","{altRight}":"Alt","🌏":navigator.language.startsWith("ja")?"🇯🇵":"🇺🇸"},keyboard=new e.default({layout:navigator.language.startsWith("ja")?layout109:layout104,display:keyboardDisplay,onInit:()=>{document.getElementById("keyboard").classList.add("d-none")},onKeyPress:e=>{switch(e){case"{esc}":return typeEventKey("Escape");case"{space}":return typeEventKey(" ");case"無変換":case"{altLeft}":return typeEventKey("NonConvert");case"変換":case"{altRight}":return typeEventKey("Convert");case"🌏":{keyboard.options.layout==layout109?(keyboardDisplay["🌏"]="🇺🇸",keyboard.setOptions({layout:layout104,display:keyboardDisplay})):(keyboardDisplay["🌏"]="🇯🇵",keyboard.setOptions({layout:layout109,display:keyboardDisplay}));break}case"{shift}":case"{lock}":{const e=keyboard.options.layoutName=="default"?"shift":"default";keyboard.setOptions({layoutName:e});break}default:return typeEventKey(e)}}});let audioContext;const audioBufferCache={};let englishVoices=[];loadVoices(),loadConfig();function loadConfig(){if(localStorage.getItem("darkMode")==1&&document.documentElement.setAttribute("data-bs-theme","dark"),localStorage.getItem("bgm")!=1&&(document.getElementById("bgmOn").classList.add("d-none"),document.getElementById("bgmOff").classList.remove("d-none")),htmlLang=="ja"&&localStorage.getItem("furigana")==1){const e=document.getElementById("addFurigana");addFurigana(e),e.setAttribute("data-done",!0)}}function toggleDarkMode(){localStorage.getItem("darkMode")==1?(localStorage.setItem("darkMode",0),document.documentElement.setAttribute("data-bs-theme","light")):(localStorage.setItem("darkMode",1),document.documentElement.setAttribute("data-bs-theme","dark"))}function toggleBGM(){localStorage.getItem("bgm")==1?(document.getElementById("bgmOn").classList.add("d-none"),document.getElementById("bgmOff").classList.remove("d-none"),localStorage.setItem("bgm",0),bgm.pause()):(document.getElementById("bgmOn").classList.remove("d-none"),document.getElementById("bgmOff").classList.add("d-none"),localStorage.setItem("bgm",1),bgm.play())}function toggleKeyboard(){const e=document.getElementById("virtualKeyboardOn"),t=document.getElementById("virtualKeyboardOff");e.classList.contains("d-none")?(e.classList.remove("d-none"),t.classList.add("d-none"),document.getElementById("keyboard").classList.remove("d-none"),resizeFontSize(aa)):(e.classList.add("d-none"),t.classList.remove("d-none"),document.getElementById("keyboard").classList.add("d-none"),document.getElementById("guideSwitch").checked=!1,guide=!1,resizeFontSize(aa))}function toggleGuide(e){if(e.target.checked){if(guide=!0,problem){const e=problem.romaji.currentNode.children.keys().next().value;showGuide(e)}}else guide=!1,problem&&removePrevGuide(problem)}function addFurigana(){if(htmlLang!="ja")return;const e=document.getElementById("addFurigana");e.getAttribute("data-done")?(localStorage.setItem("furigana",0),location.reload()):(import("https://marmooo.github.io/yomico/yomico.min.js").then(e=>{e.yomico("/emoji-typing/ja/index.yomi")}),localStorage.setItem("furigana",1),e.setAttribute("data-done",!0))}function changeLang(){const e=document.getElementById("lang"),t=e.options[e.selectedIndex].value;location.href=`/emoji-typing/${t}/`}function getTTSLang(e){switch(e){case"en":return"en-US";case"ja":return"ja-JP"}}function createAudioContext(){return globalThis.AudioContext?new globalThis.AudioContext:(console.error("Web Audio API is not supported in this browser"),null)}function unlockAudio(){const e=new SpeechSynthesisUtterance("");e.lang=ttsLang,speechSynthesis.speak(e),audioContext?audioContext.resume():(audioContext=createAudioContext(),loadAudio("end","/emoji-typing/mp3/end.mp3"),loadAudio("keyboard","/emoji-typing/mp3/keyboard.mp3"),loadAudio("correct","/emoji-typing/mp3/correct.mp3"),loadAudio("incorrect","/emoji-typing/mp3/cat.mp3")),document.removeEventListener("click",unlockAudio),document.removeEventListener("keydown",unlockAudio)}async function loadAudio(e,t){if(!audioContext)return;if(audioBufferCache[e])return audioBufferCache[e];try{const s=await fetch(t),o=await s.arrayBuffer(),n=await audioContext.decodeAudioData(o);return audioBufferCache[e]=n,n}catch(t){throw console.error(`Loading audio ${e} error:`,t),t}}function playAudio(e,t){if(!audioContext)return;const o=audioBufferCache[e];if(!o){console.error(`Audio ${e} is not found in cache`);return}const n=audioContext.createBufferSource();n.buffer=o;const s=audioContext.createGain();t&&(s.gain.value=t),s.connect(audioContext.destination),n.connect(s),n.start()}function loadVoices(){const e=new Promise(e=>{let t=speechSynthesis.getVoices();if(t.length!==0)e(t);else{let n=!1;speechSynthesis.addEventListener("voiceschanged",()=>{n=!0,t=speechSynthesis.getVoices(),e(t)}),setTimeout(()=>{n||document.getElementById("noTTS").classList.remove("d-none")},1e3)}}),t=["com.apple.speech.synthesis.voice.Bahh","com.apple.speech.synthesis.voice.Albert","com.apple.speech.synthesis.voice.Hysterical","com.apple.speech.synthesis.voice.Organ","com.apple.speech.synthesis.voice.Cellos","com.apple.speech.synthesis.voice.Zarvox","com.apple.speech.synthesis.voice.Bells","com.apple.speech.synthesis.voice.Trinoids","com.apple.speech.synthesis.voice.Boing","com.apple.speech.synthesis.voice.Whisper","com.apple.speech.synthesis.voice.Deranged","com.apple.speech.synthesis.voice.GoodNews","com.apple.speech.synthesis.voice.BadNews","com.apple.speech.synthesis.voice.Bubbles"];e.then(e=>{englishVoices=e.filter(e=>e.lang==ttsLang).filter(e=>!t.includes(e.voiceURI))})}function loopVoice(e,t){speechSynthesis.cancel();const n=new globalThis.SpeechSynthesisUtterance(e);n.voice=englishVoices[Math.floor(Math.random()*englishVoices.length)],n.lang=ttsLang;for(let e=0;e<t;e++)speechSynthesis.speak(n)}function nextProblem(){playAudio("correct",.3),solveCount+=1,typable()}function removePrevGuide(e){if(!e)return;const t=e.romaji.currentNode;if(!t)return;for(const e of t.children.keys())removeGuide(e)}function removeGuide(e){e==" "&&(e="{space}");const t=keyboard.getButtonElement(e);if(t)t.classList.remove("guide"),keyboard.setOptions({layoutName:"default"});else{const e=keyboard.getButtonElement("{shift}");e&&e.classList.remove("guide")}}function showGuide(e){e==" "&&(e="{space}");const t=keyboard.getButtonElement(e);if(t)t.classList.add("guide");else{const e=keyboard.getButtonElement("{shift}");e&&e.classList.add("guide")}}function typeEvent(e){switch(e.code){case"AltLeft":return typeEventKey("NonConvert");case"AltRight":return typeEventKey("Convert");case"Space":e.preventDefault();default:return typeEventKey(e.key)}}function typeEventKey(e){switch(e){case"NonConvert":{changeVisibility("visible"),downTime(5);return}case"Convert":{loopVoice(problem.yomi,1);return}case"Escape":startGame();return;case" ":if(!playing){startGame();return}}if(e.length==1){if(!problem)return;e=e.toLowerCase();const t=problem.romaji,n=t.currentNode,s=t.input(e);if(s){playAudio("keyboard"),normalCount+=1;const s=t.remainedRomaji,o=romaNode.children;o[0].textContent+=e,o[1].textContent=s[0],o[2].textContent=s.slice(1);for(const e of n.children.keys())removeGuide(e);t.isEnd()?nextProblem():guide&&showGuide(s[0])}else playAudio("incorrect",.3),errorCount+=1}}function resizeFontSize(e){function h(e,t){const n=tmpCanvas.getContext("2d");n.font=t;const s=n.measureText(e);return s.width}function f(e,t,n,s){const o=e.split(`
`),a=t+"px "+n;let i=0;for(let e=0;e<o.length;e++){const t=h(o[e],a);i<t&&(i=t)}return[i,t*o.length*s]}function m(e){const t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),n=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom);return[t,n]}const n=getComputedStyle(e),c=n.fontFamily,t=parseFloat(n.fontSize),l=parseFloat(n.lineHeight)/t,d=document.getElementById("aaOuter").offsetHeight,u=infoPanel.clientWidth,i=[u,d],a=f(e.textContent,t,c,l),r=m(n),o=t*(i[0]-r[0])/a[0]*.9,s=t*(i[1]-r[1])/a[1]*.9;s<o?s<remSize?e.style.fontSize=remSize+"px":e.style.fontSize=s+"px":o<remSize?e.style.fontSize=remSize+"px":e.style.fontSize=o+"px"}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function kanaToHira(e){return e.replace(/[ァ-ヶ]/g,e=>{const t=e.charCodeAt(0)-96;return String.fromCharCode(t)})}function changeVisibility(e){const t=romaNode.children;t[1].style.visibility=e,t[2].style.visibility=e}function typable(){const o=problem,a=document.getElementById("courseOption"),r=categories[a.selectedIndex],n=problems[r];problem=n[getRandomInt(0,n.length)];const s=problem.emojis;aa.textContent=s[getRandomInt(0,s.length)];const e=new i(kanaToHira(problem.yomi));originalTextNode.textContent=problem.yomi,translatedTextNode.textContent=problem.ja,problem.romaji=e;const t=romaNode.children;t[0].textContent=e.inputedRomaji,t[1].textContent=e.remainedRomaji[0],t[2].textContent=e.remainedRomaji.slice(1),mode.textContent=="EASY"&&loopVoice(problem.yomi,1);const c=mode.textContent=="EASY"?"visible":"hidden";changeVisibility(c),resizeFontSize(aa),guide&&(removePrevGuide(o),showGuide(problem.roma[0]))}function countdown(){if(countdowning)return;countdowning=!0,changeUIEmoji(),localStorage.getItem("bgm")==1&&bgm.play(),document.getElementById("guideSwitch").disabled=!0,document.getElementById("virtualKeyboard").disabled=!0,gamePanel.classList.add("d-none"),infoPanel.classList.add("d-none"),countPanel.classList.remove("d-none"),counter.textContent=3;const e=setInterval(()=>{const t=document.getElementById("counter"),n=["skyblue","greenyellow","violet","tomato"];if(parseInt(t.textContent)>1){const e=parseInt(t.textContent)-1;t.style.backgroundColor=n[e],t.textContent=e}else countdowning=!1,playing=!0,removePrevGuide(problem),normalCount=errorCount=solveCount=0,clearInterval(e),document.getElementById("guideSwitch").disabled=!1,document.getElementById("virtualKeyboard").disabled=!1,gamePanel.classList.remove("d-none"),countPanel.classList.add("d-none"),infoPanel.classList.remove("d-none"),scorePanel.classList.add("d-none"),resizeFontSize(aa),typable(),startTypeTimer(),startButton.disabled=!1},1e3)}function startGame(){clearInterval(typeTimer),initTime(),countdown(),countPanel.classList.remove("d-none"),scorePanel.classList.add("d-none")}function startTypeTimer(){const e=document.getElementById("time");typeTimer=setInterval(()=>{const t=parseInt(e.textContent);t>0?e.textContent=t-1:(clearInterval(typeTimer),bgm.pause(),playAudio("end"),scoring())},1e3)}function downTime(e){const t=document.getElementById("time"),s=parseInt(t.textContent),n=s-e;n<0?t.textContent=0:t.textContent=n}function initTime(){document.getElementById("time").textContent=gameTime}function scoring(){playing=!1,infoPanel.classList.remove("d-none"),gamePanel.classList.add("d-none"),countPanel.classList.add("d-none"),scorePanel.classList.remove("d-none");let e=parseInt(document.getElementById("time").textContent);e<60&&(e=gameTime-e);const t=(normalCount/e).toFixed(2);document.getElementById("totalType").textContent=normalCount+errorCount,document.getElementById("typeSpeed").textContent=t,document.getElementById("errorType").textContent=errorCount}function changeMode(e){normalCount=errorCount=solveCount=0,document.getElementById("time").textContent=gameTime,e.target.textContent=="EASY"?e.target.textContent="HARD":e.target.textContent="EASY";const t=mode.textContent=="EASY"?"visible":"hidden";changeVisibility(t)}function selectRandomEmoji(){const s=categories[getRandomInt(0,categories.length)],e=problems[s],t=e[getRandomInt(0,e.length)],n=t.emojis,o=n[getRandomInt(0,n.length)];return[o,t.roma]}function changeUIEmoji(){document.getElementById("counter-emoji").textContent=selectRandomEmoji()[0],document.getElementById("score-emoji").textContent=selectRandomEmoji()[0]}function initProblems(){fetch(`/emoji-typing/data/${htmlLang}.csv`).then(e=>e.text()).then(e=>{let t;e.trimEnd().split(`
`).forEach(e=>{const[o,s,n,i,a]=e.split(",");if(s in problems===!1&&(problems[s]=[]),t==n)problems[s].at(-1).emojis.push(o);else if(htmlLang=="en"){const e={emojis:[o],roma:n,yomi:n,ja:n};problems[s].push(e)}else{const e={emojis:[o],roma:n,yomi:i,ja:a};problems[s].push(e)}t=n})})}function setTranslation(){const e={attributeFilter:["lang"],attributes:!0};new MutationObserver(()=>{htmlLang=="en"?originalTextNode.classList.add("d-none"):originalTextNode.classList.remove("d-none");const e=document.documentElement.lang;e==htmlLang?translatedTextNode.classList.add("d-none"):translatedTextNode.classList.remove("d-none")}).observe(document.documentElement,e)}resizeFontSize(aa),initProblems(),setTranslation(),startButton.onclick=startGame,document.getElementById("toggleDarkMode").onclick=toggleDarkMode;const furiganaButton=document.getElementById("addFurigana");furiganaButton&&(furiganaButton.onclick=addFurigana),document.getElementById("toggleBGM").onclick=toggleBGM,document.getElementById("virtualKeyboard").onclick=toggleKeyboard,globalThis.addEventListener("resize",()=>{resizeFontSize(aa)}),document.getElementById("mode").onclick=changeMode,document.getElementById("guideSwitch").onchange=toggleGuide,document.getElementById("lang").onchange=changeLang,document.addEventListener("keydown",typeEvent),document.addEventListener("click",unlockAudio,{once:!0}),document.addEventListener("keydown",unlockAudio,{once:!0})